add_namespace = bronzehill
add_namespace = bronzehill_industrial
add_namespace = bronzehill_politicalintroduction
add_namespace = bronzehill_council
add_namespace = bronzehill_revenge
add_namespace = bronzehill_news

#The Emperor is Dead
country_event = {
	id = bronzehill.1
	immediate = {log = "[Root.GetName]: event bronzehill.1"}#Auto-logging
	title = bronzehill.1.t
	desc = bronzehill.1.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = bronzehill.1.a
		add_stability = -0.25
		
		add_timed_idea = {
			idea = BRZ_the_mourning
			days = 150
		}
		
		set_country_flag = BRZ_grover_v_dead
	}
}

# Story events for the industrial tree

# Ravensburg Dam
country_event = {
	id = bronzehill_industrial.1
	immediate = {log = "[Root.GetName]: event bronzehill_industrial.1"}#Auto-logging
	title = bronzehill_industrial.1.t
	desc = bronzehill_industrial.1.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_industrial.1.a
	}
}

# Argument in the Family
country_event = {
	id = bronzehill_industrial.2
	immediate = {log = "[Root.GetName]: event bronzehill_industrial.2"}#Auto-logging
	title = bronzehill_industrial.2.t
	desc = bronzehill_industrial.2.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_industrial.2.a
	}
}

# Story events for the political introduction tree

# The Chairdogship
country_event = {
	id = bronzehill_politicalintroduction.1
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.1"}#Auto-logging
	title = bronzehill_politicalintroduction.1.t
	desc = bronzehill_politicalintroduction.1.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.1.a
	}
}

# The old reformer
country_event = {
	id = bronzehill_politicalintroduction.2
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.2"}#Auto-logging
	title = bronzehill_politicalintroduction.2.t
	desc = bronzehill_politicalintroduction.2.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.2.a
	}
}

# An usual guest
country_event = {
	id = bronzehill_politicalintroduction.3
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.3"}#Auto-logging
	title = bronzehill_politicalintroduction.3.t
	desc = bronzehill_politicalintroduction.3.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.3.a
	}
}

# Word with Loudbark
country_event = {
	id = bronzehill_politicalintroduction.4
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.4"}#Auto-logging
	title = bronzehill_politicalintroduction.4.t
	desc = bronzehill_politicalintroduction.4.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.4.a
	}
}

# Up in the Hills
country_event = {
	id = bronzehill_politicalintroduction.5
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.5"}#Auto-logging
	title = bronzehill_politicalintroduction.5.t
	desc = bronzehill_politicalintroduction.5.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.5.a
	}
}

# A Meeting in Ravensburg
country_event = {
	id = bronzehill_politicalintroduction.6
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.6"}#Auto-logging
	title = bronzehill_politicalintroduction.6.t
	desc = bronzehill_politicalintroduction.6.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.6.a
	}
}

# Finishing the list
country_event = {
	id = bronzehill_politicalintroduction.7
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.7"}#Auto-logging
	title = bronzehill_politicalintroduction.7.t
	desc = bronzehill_politicalintroduction.7.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.7.a
		
		set_country_flag = BRZ_luxembark_in_the_council
	}
	
	option = {
		name = bronzehill_politicalintroduction.7.b
		
		custom_effect_tooltip = bronzehill_politicalintroduction.7.b_tooltip
		
		hidden_effect = {
			country_event = {
				id = bronzehill_politicalintroduction.8
				days = 5
			}
		}
	}
}

# Barking-Sun deposes Luxembark
country_event = {
	id = bronzehill_politicalintroduction.8
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.8"}#Auto-logging
	title = bronzehill_politicalintroduction.8.t
	desc = bronzehill_politicalintroduction.8.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.8.a
		
		add_country_leader_role = {
			character = BRZ_kimball_barking_sun
			country_leader = {
				desc = BRZ_BARKINGSUN_DESC
				expire = "1965.1.1"
				ideology = juche
				traits = { champion_of_the_great_leader }
			}
			promote_leader = yes
		}
		
		set_party_name = {
			ideology = communism
			name = BRZ_communism_party_kim
			long_name = BRZ_communism_party_kim_long
		}
	}
}

# The Council Votes
country_event = {
	id = bronzehill_politicalintroduction.9
	immediate = {log = "[Root.GetName]: event bronzehill_politicalintroduction.9"}#Auto-logging
	title = bronzehill_politicalintroduction.9.t
	
	desc = {
		text = bronzehill_politicalintroduction.9.d
		trigger = {
			has_country_flag = BRZ_luxembark_in_the_council
		}
	}
	desc = {
		text = bronzehill_politicalintroduction.9.d_no_lux
	}
	
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_politicalintroduction.9.a
	}
}

# Council events
country_event = {
	id = bronzehill_council.1
	immediate = {log = "[Root.GetName]: event bronzehill_council.1"}#Auto-logging
	title = bronzehill_council.1.t
	
	desc = {
		text = bronzehill_council.1.d
		trigger = {
			has_country_flag = BRZ_luxembark_in_the_council
		}
	}
	desc = {
		text = bronzehill_council.1.d_no_lux
	}
	
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = bronzehill_council.1.a
		
		add_ideas = BRZ_powerstruggle_in_the_council
		
		activate_mission = BRZ_council_timeout_mission
		
		activate_mission = BRZ_copperhill_influence_mission
		activate_mission = BRZ_loudbark_influence_mission
		if = {
			limit = {
				has_country_flag = BRZ_luxembark_in_the_council
			}
			activate_mission = BRZ_luxembark_influence_mission
		} else = {
			activate_mission = BRZ_barkingsun_influence_mission
		}
		
		# Initialize the variables for powerstruggle
		set_variable = {
			BRZ_council_powerstruggle_influence_copperhill = 15
		}
		set_variable = {
			BRZ_council_powerstruggle_influence_loudbark = 12
		}
		if = {
			limit = {
				has_country_flag = BRZ_luxembark_in_the_council
			}
			set_variable = {
				BRZ_council_powerstruggle_influence_luxembark = 3
			}
		} else = {
			set_variable = {
				BRZ_council_powerstruggle_radicalization = 20
			}
		}
	}
}

##############################
######	REVENGE Events	######
##############################

#The Monsters in the Capital
country_event = {
	id = bronzehill_revenge.1
	immediate = {log = "[Root.GetName]: event bronzehill_revenge.1"}#Auto-logging
	title = bronzehill_revenge.1.t
	desc = bronzehill_revenge.1.d
	picture = GFX_event_griffon_soldier
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#set_country_flag = BRZ_revenge_tree_loaded
			#load_focus_tree = brz_revenge_tree
		}
	}
	
	fire_only_once = yes
	option = { #Oh No
		name = bronzehill_revenge.1.a
		add_ideas = BRZ_the_chrisis
		OVERLORD = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_free
			}
		}
		leave_faction = yes
		add_opinion_modifier = {
			target = GRI
			modifier = sworn_enemies
		}
		add_opinion_modifier = {
			target = GRI
			modifier = BRZ_murdered_the_emperor
		}
		effect_tooltip = {
			load_focus_tree = brz_revenge_tree
		}

		hidden_effect = {
			set_country_flag = herzland_diplomacy_blocked
			add_ai_strategy = {
				type = befriend
				id = GRI
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = GRI
				value = -200
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = GRI
				value = -200
			}
			add_ai_strategy = {
				type = support
				id = GRI
				value = -200
			}
			add_ai_strategy = {
				type = alliance
				id = GRI
				value = -200
			}
			add_ai_strategy = {
				type = antagonize
				id = GRI
				value = 200
			}
		}
	}
}

###############
# News events #
###############
# To be adjusted

news_event = { # Bronzehill Takes Griffonhime
	id = bronzehill_news.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event bronzehill_news.2"}
	title = bronzehill_news.2.t
	desc = bronzehill_news.2.d
	picture = GFX_news_bronzhill_fighting

	major = yes

	is_triggered_only = yes

	option = {
		name = bronzehill_news.2.a
		trigger = { tag = BRZ }
	}
	option = {
		name = bronzehill_news.2.b
		trigger = {
			NOT = { tag = BRZ }
		}
	}
}

news_event = { # Bronzehill Takes Griffonhime - Emperor Dead :(
	id = bronzehill_news.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event bronzehill_news.3"}
	title = bronzehill_news.3.t
	desc = bronzehill_news.3.d
	picture = GFX_news_bronzhill_fighting

	major = yes

	is_triggered_only = yes

	option = {
		name = bronzehill_news.3.a
		trigger = { tag = BRZ }
	}
	option = {
		name = bronzehill_news.3.b
		trigger = {
			NOT = { tag = BRZ }
		}
	}
}

news_event = { # The Funeral of the Emperor
	id = bronzehill_news.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event bronzehill_news.4"}
	title = bronzehill_news.4.t
	desc = bronzehill_news.4.d
	picture = GFX_news_griffenheim

	major = yes

	is_triggered_only = yes

	option = {
		name = bronzehill_news.4.a
		trigger = { tag = BRZ }
	}
	option = {
		name = bronzehill_news.4.b
		trigger = {
			NOT = { tag = BRZ }
		}
	}
}

news_event = { # The Funeral of the Emperor
	id = bronzehill_news.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event bronzehill_news.5"}
	title = bronzehill_news.5.t
	desc = bronzehill_news.5.d
	picture = GFX_news_griffenheim

	major = yes

	is_triggered_only = yes

	option = {
		name = bronzehill_news.5.a
	}
}
news_event = { #The Empire Strikes Back but it's dogs
	id = bronzehill_news.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event bronzehill_news.6"}
	title = bronzehill_news.6.t
	desc = bronzehill_news.6.d
	picture = GFX_news_griffonia_landscape
	is_triggered_only = yes
	major = yes

	option = {
		name = bronzehill_news.6.a
	}
}