add_namespace = katzen_AF


country_event = { #Kaiser pops up
	id = katzen_AF.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.1"}
	title = katzen_AF.1.t
	desc = katzen_AF.1.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = { 
		name = katzen_AF.1.a
		hidden_effect = {
			ABY_AF_kaiser_kattail = {
				promote_leader = yes
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = fascism_ideology
						expire = "1965.1.1.1"
					}
				}
			}
		}
	}
}
country_event = { #gaslighting done
	id = katzen_AF.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.2"}
	title = katzen_AF.2.t
	desc = katzen_AF.2.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.2.a
	}
}

country_event = { #deciding which way
	id = katzen_AF.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.3"}
	title = katzen_AF.3.t
	desc = katzen_AF.3.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = { #west zebrica
		name = katzen_AF.3.a
		set_country_flag = ABY_AF_west_zebrica_endgame
		mark_focus_tree_layout_dirty = yes
	}
	option = { #equus
		name = katzen_AF.3.b
		set_country_flag = ABY_AF_west_zebrica_endgame
		mark_focus_tree_layout_dirty = yes
	}
	option = { #griffonia
		name = katzen_AF.3.c
		set_country_flag = ABY_AF_west_zebrica_endgame
		mark_focus_tree_layout_dirty = yes
	}
}
country_event = { #kaiser ruminating
	id = katzen_AF.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.4"}
	title = katzen_AF.4.t
	desc = katzen_AF.4.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.4.a
		add_political_power = 150
	}
}
country_event = { #meeting posada
	id = katzen_AF.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.5"}
	title = katzen_AF.5.t
	desc = katzen_AF.5.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = { #yay
		name = katzen_AF.5.a
		set_country_flag = HIP_posada_joined_govt
		custom_effect_tooltip = HIP_posada_joins_tt
	}
}
country_event = { #kaiser dreams of things to come
	id = katzen_AF.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.6"}
	title = katzen_AF.6.t
	desc = katzen_AF.6.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.6.a
	}
}
country_event = { #ships done
	id = katzen_AF.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.7"}
	title = katzen_AF.7.t
	desc = katzen_AF.7.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = { #yay
		name = katzen_AF.7.a
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			hidden_effect = {
				set_technology = {
					basic_ship_hull_light = 1
					improved_ship_torpedo_launcher = 1
				}
				create_equipment_variant = {
					name = "Herzogkatzenschiff Class"
					type = ship_hull_light_2
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_battery_1
						fixed_ship_anti_air_slot = empty
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_2
						mid_1_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_torpedo_2
					}
				}
				create_equipment_variant = {
					name = "Katzenkriegbaron Class"
					type = ship_hull_cruiser_1
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_medium_battery_1
						fixed_ship_anti_air_slot = empty
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						mid_1_custom_slot = ship_torpedo_2
						mid_2_custom_slot = ship_torpedo_2
						rear_1_custom_slot = ship_light_medium_battery_1
					}
				}
				for_loop_effect = {
					end = 40
					create_ship = { type = ship_hull_light_2 equipment_variant = "Herzogkatzenschiff Class" creator = ROOT }
				}
				for_loop_effect = {
					end = 10
					create_ship = { type = ship_hull_cruiser_1 equipment_variant = "Katzenkriegbaron Class" creator = ROOT }
				}					
			}
			else = {
				set_technology = {
					basic_destroyer = 1
					early_light_cruiser = 1 
				}
				for_loop_effect = {
					end = 40
					create_ship = { 
						type = basic_destroyer 
						name = "Herzogkatzenschiff Class" 
						creator = ROOT 
					}
				}
				for_loop_effect = {
					end = 10
					create_ship = { 
						type = early_light_cruiser 
						name = "Katzenkriegbaron Class" 
						creator = ROOT 
					}
				}		
			}
		}
	}
}
country_event = { #they find the relic
	id = katzen_AF.81
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.8"}
	title = katzen_AF.81.t
	desc = katzen_AF.81.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.81.a
		custom_effect_tooltip = katzen_AF.81_tt
		add_to_variable = {
			var = ABY_AF_aeternum_relics_available
			value = 1
		}
	}
}
country_event = { #lob nukes at the fuckers in the abyss
	id = katzen_AF.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.10"}
	title = katzen_AF.10.t
	desc = katzen_AF.10.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.10.a
		add_political_power = 1
	}
}

country_event = { #hidden event to name the pyramid
	id = katzen_AF.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.11"}
	hidden = yes
	is_triggered_only = yes
	
	option = {
		set_province_name = {
			id = 15718
			name = ABY_AF_kattown_pyramid_locckey
		}
	}
}
country_event = { #griffonia war event - kaiser gets notified
	id = katzen_AF.99800
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99800"}
	title = katzen_AF.99800.t
	desc = katzen_AF.99800.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	option = {
		name = katzen_AF.99800.a
		hidden_effect = {
			GRI = {
				annex_country = {
					target = FEA
					transfer_troops = no
				}
				annex_country = {
					target = STW
					transfer_troops = no
				}
				annex_country = {
					target = BRZ
					transfer_troops = no
				}
				annex_country = {
					target = YAL
					transfer_troops = no
				}
				annex_country = {
					target = PYT
					transfer_troops = no
				}
				annex_country = {
					target = PYT
					transfer_troops = no
				}
				annex_country = {
					target = ROU
					transfer_troops = no
				}
				annex_country = {
					target = ANG
					transfer_troops = no
				}
				annex_country = {
					target = KAT
					transfer_troops = no
				}
				annex_country = {
					target = TRD
					transfer_troops = no
				}
				country_event = katzen_AF.99801
			}
			JER = {
				annex_country = {
					target = JFT
					transfer_troops = no
				}
				annex_country = {
					target = JEB
					transfer_troops = no
				}
				annex_country = {
					target = JRR
					transfer_troops = no
				}
				annex_country = {
					target = VIN
					transfer_troops = no
				}
				annex_country = {
					target = FEZ
					transfer_troops = no
				}
				annex_country = {
					target = HEL
					transfer_troops = no
				}
				annex_country = {
					target = FLO
					transfer_troops = no
				}
				annex_country = {
					target = POM
					transfer_troops = no
				}
				annex_country = {
					target = AET
					transfer_troops = no
				}
				country_event = katzen_AF.99801
			}
			every_other_country = {
				limit = {
					has_war_with = GRI
				}
				white_peace = GRI
			}
			every_other_country = {
				limit = {
					has_war_with = WNG
				}
				white_peace = WNG
			}
			every_other_country = {
				limit = {
					has_war_with = MIT
				}
				white_peace = MIT
			}
			RCT = {
				complete_national_focus = RIV_dreams_of_a_federation
				unlock_national_focus = RIV_science_society
				complete_national_focus = RIV_found_the_rcsc
				complete_national_focus = RIV_develop_DEP
				complete_national_focus = RIV_develop_DEP
				complete_national_focus = RIV_build_roads_in_DEP
				complete_national_focus = RIV_development_grants_DEP
				complete_national_focus = RIV_develop_FRE
				complete_national_focus = RIV_build_roads_in_FRE
				complete_national_focus = RIV_development_grants_FRE
				complete_national_focus = RIV_found_the_rdc
				complete_national_focus = RIV_found_the_rec
				complete_national_focus = RIV_rdc_rail_projects
				complete_national_focus = RIV_rdc_industry_projects
				complete_national_focus = RIV_rdc_local_investment_funds
				complete_national_focus = RIV_eastern_transport_fund
				complete_national_focus = RIV_social_fund
				complete_national_focus = RIV_beings_rights
				complete_national_focus = RIV_river_parliament
				complete_national_focus = RIV_free_movement
				complete_national_focus = RIV_centeral_bank
				complete_national_focus = RIV_the_rivbit
				complete_national_focus = RIV_the_river_union
				complete_national_focus = RIV_river_army
				complete_national_focus = RIV_river_government
				unlock_national_focus = RIV_the_federation

				set_variable = { annexed_riv_members = 1 }

				if = {
					limit = { has_dlc = "Together for Victory" }
					add_to_tech_sharing_group = RIV_science_society_group
				}
				else = {
					add_tech_bonus = {
						name = industrial_bonus
						bonus = 0.65
						uses = 1
						category = industry
						category = electronics
					}
				}
			}
	
			every_country = {
				limit = {
					is_in_faction_with = RCT
					NOT = { tag = RCT }
				}
				every_country = {
					limit = {
						is_subject_of = PREV
					}
					hidden_effect = {
						get_current_autonomy_level = yes
						get_current_government_type = yes
						end_puppet_this = yes
					}
					RCT = {
						puppet = PREV
					}
					hidden_effect = {
						restore_previous_government_type = yes
						set_previous_autonomy_level = yes
					}
				}
				
				every_state = {
					limit = {
						is_core_of = PREV
					}
					add_core_of = RCT
				}
				
				every_unit_leader = {
					set_nationality = RCT
				}
				
				RCT = {
					transfer_technology = yes
					RIV_add_country_idea_on_annex = yes
					set_country_flag = RIV_annexed_@PREV
					annex_country = { target = PREV transfer_troops = yes }
					add_to_variable = { annexed_riv_members = 1 }
					RIV_get_cosmetic_tag = yes
				}
			}

			RCT = {
				set_country_flag = river_federation_founder
				set_global_flag = river_federation_founded
				save_global_event_target_as = RivFed
				if = {
					limit = { NOT = { has_idea = modern_society } }
					add_ideas = modern_society
				}
				if = {
					limit = { NOT = { has_idea = proper_science_base } }
					set_country_flag = proper_science_base_unlocked
					add_ideas = proper_science_base
				}
			}
			HLQ = {
				annex_country = {
					target = LNS
					transfer_troops = no
				}
				annex_country = {
					target = LSM
					transfer_troops = no
				}
				annex_country = {
					target = LSC
					transfer_troops = no
				}
			}
			every_other_country = {
				limit = {
					is_griffon_continent_country = yes
					is_faction_leader = yes
				}
				dismantle_faction = yes
			}
			RCT = {
				country_event = katzen_AF.99802
			}
		}
	}
}
country_event = {
	id = katzen_AF.99801
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99801"}
	hidden = yes
	is_triggered_only = yes
	option = {
		ROOT = {
			every_owned_state = {
				add_core_of = ROOT
			}
		}
	}
}
country_event = {
	id = katzen_AF.99802
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99802"}
	hidden = yes
	is_triggered_only = yes
	option = {
		create_faction = ABY_AF_united_griffonia_faction
		every_other_country = {
			limit = {
				is_griffon_continent_country = yes
				is_faction_leader = no
				NOT = {
					original_tag = HLR
				}
				NOT = {
					original_tag = DED
				}
			}
			country_event = katzen_AF.99803
		}
		declare_war_on = {
			target = ABY
			type = annex_everything
		}
	}
}
country_event = {
	id = katzen_AF.99803
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99802"}
	hidden = yes
	is_triggered_only = yes
	option = {
		RCT = {
			add_to_faction = ROOT
		}
		add_ideas = ABY_AF_AI_country_gigawar_buff_idea
		add_to_war = {
			targeted_alliance = RCT
			enemy = ABY
			hostility_reason = asked_to_join
		}
		ROOT = {
			if = {
				limit = {
					is_ai = yes
				}
				add_ideas = ABY_AF_AI_country_gigawar_buff_idea
			}
		}
	}
}
country_event = { #equus war event - Kaiser gets notified that shit is going down in Equus
	id = katzen_AF.99900
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99900"}
	title = katzen_AF.99900.t
	desc = katzen_AF.99900.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.99900.a
		hidden_effect = {
			EQS = {
				annex_country = {
					target = LSP
					transfer_troops = yes
				}
				annex_country = {
					target = NLR
					transfer_troops = yes
				}
				annex_country = {
					target = SCS
					transfer_troops = yes
				}
				annex_country = {
					target = VAN
					transfer_troops = yes
				}
				annex_country = {
					target = BAL
					transfer_troops = yes
				}
				annex_country = {
					target = NMS
					transfer_troops = yes
				}
				annex_country = {
					target = CES
					transfer_troops = yes
				}
				annex_country = {
					target = JUN
					transfer_troops = yes
				}
				annex_country = {
					target = TEM
					transfer_troops = yes
				}
				complete_national_focus = EQS_Civil_War_End 
				declare_war_on = {
					target = ABY
					type = annex_everything
				}
			}
			YAK = {
				annex_country = {
					target = JAK
					transfer_troops = yes
				}
			}
			GRF = {
				annex_country = {
					target = GFF
					transfer_troops = yes
				}
			}
			every_other_country = {
				limit = {
					has_war_with = EQS
				}
				white_peace = EQS
			}
			CHN = {
				dismantle_faction = yes
			}
			every_other_country = {
				limit = {
					is_on_equestrian_continent = yes
				}
				country_event = katzen_AF.99901
			}
		}
	}
}
country_event = { #equus war debug event 2
	id = katzen_AF.99901
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99901"}
	hidden = yes 	
	is_triggered_only = yes
	
	option = {
		EQS = {
			add_to_faction = ROOT
		}
		add_ideas = ABY_AF_AI_country_gigawar_buff_idea
		add_to_war = {
			targeted_alliance = EQS
			enemy = ABY
			hostility_reason = asked_to_join
		}
		add_to_tech_sharing_group = equestrian_research
		ROOT = {
			if = {
				limit = {
					is_ai = yes
				}
				add_ideas = ABY_AF_AI_country_gigawar_buff_idea
			}
		}
	}
}



country_event = { #zebrica war debug event
	id = katzen_AF.99997
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99997"}
	title = katzen_AF.99997.t
	desc = katzen_AF.99997.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.99997.a
		hidden_effect = {
				every_other_country = {
					limit = {
						is_zebrican_continent_country = yes
					}
					declare_war_on = {
						target = ABY
						type = annex_everything
					}
				}
				every_other_country = {
					limit = {
						is_zebrican_continent_country = yes
						is_ai = yes
					}
					add_ideas = ABY_AF_AI_country_gigawar_buff_idea
				}
		}
	}
}


country_event = { #debug event for spawning in dams
	id = katzen_AF.99999
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99999"}
	title = katzen_AF.99999.t
	desc = katzen_AF.99999.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.99999.a
		create_entity = {
			entity = tno_reference
			id = 9999999
			var = zebtropa_i_dam
			x = 11.3
			y = -1.5
			z = -0.1
			state = 869
			province = 14632
			scale = 1.0
			rotation = 2.5
			min_zoom = 3000.0
		}
	}
	option = {
		name = katzen_AF.99999.b
		create_entity = {
			entity = tno_reference
			id = 9999998
			var = zebtropa_i_dam
			x = 28
			y = 8.2
			z = -0.1
			state = 869
			province = 14632
			scale = 1.1
			rotation = 1.5
			min_zoom = 3000.0
		}
	}
}
country_event = { #debug event for reactivating dockyard decisions
	id = katzen_AF.99998
	immediate = {log = "[GetDateText]: [Root.GetName]: event katzen_AF.99998"}
	title = katzen_AF.99998.t
	desc = katzen_AF.99998.d
	picture = GFX_event_griffon_back
	
	is_triggered_only = yes
	
	option = {
		name = katzen_AF.99998.a
		activate_targeted_decision = { target = 695 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 696 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 693 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 692 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 784 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1199 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1198 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1197 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1196 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1195 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1994 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 1193 decision = ABY_AF_giga_shipyards_decision }
		activate_targeted_decision = { target = 4 decision = ABY_AF_giga_shipyards_decision }
	}
	option = {
		name = katzen_AF.99999.b

	}
}