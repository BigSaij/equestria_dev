add_namespace = imperium
add_namespace = imperium_news

country_event = { 
	id = imperium.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.1"}
	title = imperium.1.title
	desc = imperium.1.desc
	fire_only_once = yes
	trigger = {
		tag = GRI
		date > 1007.1.9
		has_game_rule = {
			rule = eog_april_fool
			option = EOG_APRIL_FOOL
		}
	}
	option = {
		name = imperium.1.a
	}
}

country_event = { 
	id = imperium.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.2"}
	title = imperium.2.title
	desc = imperium.2.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.2.a
		hidden_effect = {
			load_focus_tree = { tree = imperium_focus }
			set_cosmetic_tag = GRI_APRILFOOLS
			set_global_flag = GRI_emperor_dead
			news_event = { id = imperium_news.1 hours = 6 }

			GRI_emperor_grover_v = {
				retire = yes
			}
			add_country_leader_role = {
				character = GRI_regency_council
				country_leader = {
					expire = "1965.1.1"
					ideology = oligarchism
					traits = { provisional }
				}
				promote_leader = yes
			}
			country_event = { days = 10 id = imperium.3 }
			MNC = { country_event = { id = mountain.1 days = 3 random = 48 } }
			STW = { country_event = { id = strawberry.1 days = 3 } }
		}
	}
}

country_event = { #Poison cloud from the throne envelops the castle and slowly moves to the city, city gets evacuated across the river to the north.
	id = imperium.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.3"}
	title = imperium.3.title
	desc = imperium.3.desc
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.3.a
		382 = {
		    set_demilitarized_zone = yes
		    add_manpower = -40000
		}
		swap_ideas = {
			remove_idea = GRI_bureaucracy
			add_idea = GRI_poisoned_capital
		}
		hidden_effect = {
			STW = { country_event = { days = 5 id = imperium.4 } }
			FEA = { country_event = { days = 5 id = imperium.4 } }
			PYT = { country_event = { days = 5 id = imperium.4 } }
			ROU = { country_event = { days = 5 id = imperium.4 } }
			ANG = { country_event = { days = 5 id = imperium.4 } }
			KAT = { country_event = { days = 5 id = imperium.4 } }
 			country_event = { days = 7 id = imperium.5 }
		} 
	}
}

country_event = { #sent to the subjects of the Empire to abandon the faction.
	id = imperium.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.4"}
	title = imperium.4.title
	desc = imperium.4.desc
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = imperium.4.a
		hidden_effect = {
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
			}
			if = {
				limit = {
					has_cosmetic_tag = GRI_SUBJECT
				}
				drop_cosmetic_tag = yes
			}
			end_puppet_this = yes
		}
	}
}

country_event = { # flavor event that informs about the vassals leaving the faction
	id = imperium.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.5"}
	title = imperium.5.title
	desc = imperium.5.desc
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = imperium.5.a
		hidden_effect = {
			country_event = { days = 5 id = imperium.6 }
		}
	}
}

country_event = { # The Emperor awakens
	id = imperium.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.6"}
	title = imperium.6.title
	desc = imperium.6.desc
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = imperium.6.a

		hidden_effect = {
			GRI_regency_council = {
				retire = yes
			}
			add_country_leader_role = {
				character = GRI_the_emperor
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = { }
				}
				promote_leader = yes
			}
		}
	}
}


country_event = { #flavour about the Emperor trying to find out wtf happening around him
	id = imperium.3000
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.3000"}
	title = imperium.3000.title
	desc = imperium.3000.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.3001.a
	}
}

country_event = { #grovers gone and no one can find him
	id = imperium.3001
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.3001"}
	title = imperium.3001.title
	desc = imperium.3001.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.3001.a
	}
}

country_event = { #Eagleclaw laments the dead Kaiser
	id = imperium.3002
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.3002"}
	title = imperium.3002.title
	desc = imperium.3002.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.3002.a
	}
}

country_event = { #Kaiser talks about Dawnclaw and Maar
	id = imperium.3003
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium.3003"}
	title = imperium.3003.title
	desc = imperium.3003.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.3003.a
	}
}

### Shared conquest tree events ###

country_event = { # Dawnclaw has won
	id = imperium.4000
	immediate = { log = "[GetDateText]: [Root.GetName]: event imperium.4000" }
	title = imperium.4000.title
	desc = imperium.4000.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.4000.a
	}
}

country_event = { # The Emperor has crushed Dawnclaw heresy
	id = imperium.4001
	immediate = { log = "[GetDateText]: [Root.GetName]: event imperium.4001" }
	title = imperium.4001.title
	desc = imperium.4001.desc
	#picture = 
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = imperium.4001.a
	}
}

### News Events ###


news_event = { #The Emperor is Dead? 
	id = imperium_news.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium_news.1"}
	title = imperium_news.1.title
	desc = imperium_news.1.desc
	picture = GFX_news_griffenheim

	is_triggered_only = yes

	major = yes

	option = {
		name = imperium_news.1.a
		trigger = { tag = GRI }
	}
	option = {
		name = imperium_news.1.b
		trigger = { tag = FAT }
	}
	option = {
		name = imperium_news.1.c
		trigger = { tag = JER }
	}
	option = {
		name = imperium_news.1.e
		trigger = { tag = WNG }
	}
	option = {
		name = imperium_news.1.f
		trigger = {
			is_griffon_continent_griffon_country = yes
			NOT = { TAG = GRI }
			NOT = { TAG = FAT }
			NOT = { TAG = WNG }
			NOT = { TAG = JER }
			NOT = { TAG = DED }
			has_opinion = { target = GRI value > 0 }
		}
	}
	option = {
		name = imperium_news.1.not_f
		trigger = {
			is_griffon_continent_griffon_country = yes
			NOT = { TAG = GRI }
			NOT = { TAG = FAT }
			NOT = { TAG = WNG }
			NOT = { TAG = JER }
			NOT = { TAG = DED }
			NOT = { has_opinion = { target = GRI value > 0 } }
		}
	}
	option = {
		name = imperium_news.1.equestria_f
		trigger = {
			NOT = {
				original_tag = GRF
				original_tag = GFF
				tag = DED
			}
			is_griffon_continent_griffon_country = no
			has_opinion = { target = GRI value > 0 }
		}
	}
	option = {
		name = imperium_news.1.equestria_no_f
		trigger = {
			NOT = {
				original_tag = GRF
				original_tag = GFF
				tag = DED
			}
			is_griffon_continent_griffon_country = no
			NOT = {
				has_government = democratic
			}
			has_opinion = { target = GRI value < 0 }
		}
	}
	option = {
		name = imperium_news.1.equestria_no_f_dem
		trigger = {
			NOT = {
				original_tag = GRF
				original_tag = GFF
				tag = DED
			}
			is_griffon_continent_griffon_country = no
			has_government = democratic
			NOT = { has_opinion = { target = GRI value > 0 } }
		}
	}
	option = {
		name = imperium_news.1.equestria_grf
		trigger = {
			OR = {
				original_tag = GRF
				original_tag = GFF
			}
		}
	}
	option = {
		name = imperium_news.1.ded
		trigger = { tag = DED }
	}
}

news_event = { # Dawnclaw has unified the heartzland and the north
	id = imperium_news.41
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium_news.41"}
	title = imperium_news.41.title
	desc = imperium_news.41.desc
	picture = GFX_news_griffenheim

	is_triggered_only = yes

	major = yes

	option = {
		name = imperium_news.41.imperium
		trigger = { tag = FAT }
	}
	option = {
		name = imperium_news.41.griffon
		trigger = {
			is_griffon_continent_griffon_country = yes
			NOT = { TAG = FAT }
		}
	}
	option = {
		name = imperium_news.41.riverfed
		trigger = {
			is_original_riv_fed_country = yes
		}
	}
	option = {
		name = imperium_news.41.others
		trigger = {
			NOT = { tag = DED }
			is_griffon_continent_griffon_country = no
			is_original_riv_fed_country = no
		}
	}
	option = {
		name = imperium_news.41.ded
		trigger = { tag = DED }
	}
}

news_event = { # The emperor won and unified the heartzland and the north
	id = imperium_news.42
	immediate = {log = "[GetDateText]: [Root.GetName]: event imperium_news.42"}
	title = imperium_news.42.title
	desc = imperium_news.42.desc
	picture = GFX_news_griffenheim

	is_triggered_only = yes

	major = yes

	option = {
		name = imperium_news.42.imperium
		trigger = { tag = GRI }
	}
	option = {
		name = imperium_news.42.griffon
		trigger = {
			is_griffon_continent_griffon_country = yes
			NOT = { TAG = GRI }
		}
	}
	option = {
		name = imperium_news.42.riverfed
		trigger = {
			is_original_riv_fed_country = yes
		}
	}
	option = {
		name = imperium_news.42.others
		trigger = {
			NOT = { tag = DED }
			is_griffon_continent_griffon_country = no
			is_original_riv_fed_country = no
		}
	}
	option = {
		name = imperium_news.42.ded
		trigger = { tag = DED }
	}
}