BRZ_anti_pacifism_campaign_cat = {
	BRZ_pacifist_crackdown = {

		icon = generic_prepare_civil_war

		available = {
			NOT = { has_country_flag = BRZ_anti_pacifism_campaign_in_progress }
		}

		cost = 25

		fire_only_once = yes

		days_remove = 60

		ai_will_do = {
			factor = 150
		}

		visible = {
			OR = {
				has_idea = BRZ_pacifism1
				has_idea = BRZ_pacifism2
				has_idea = BRZ_pacifism3
				has_idea = BRZ_pacifism4
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BRZ_pacifist_crackdown"
			hidden_effect = {
				set_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
		}

		modifier = {
			war_support_weekly = 0.01
			stability_weekly = -0.03
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_pacifist_crackdown"
			hidden_effect = {
				clr_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
			if = {
				limit = {
					has_idea = BRZ_pacifism1
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism1
					add_idea = BRZ_pacifism2
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism2
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism2
					add_idea = BRZ_pacifism3
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism3
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism3
					add_idea = BRZ_pacifism4
				}
			}
			else = {
				remove_ideas = BRZ_pacifism4
			}
		}
	}

	BRZ_war_work_incentives = {

		icon = generic_prepare_civil_war

		available = {
			NOT = { has_country_flag = BRZ_anti_pacifism_campaign_in_progress }
		}

		cost = 25

		fire_only_once = yes

		days_remove = 60

		ai_will_do = {
			factor = 150
		}

		visible = {
			OR = {
				has_idea = BRZ_pacifism1
				has_idea = BRZ_pacifism2
				has_idea = BRZ_pacifism3
				has_idea = BRZ_pacifism4
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BRZ_war_work_incentives"
			hidden_effect = {
				set_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
		}

		modifier = {
			war_support_weekly = 0.01
			political_power_factor = -0.05
			industrial_capacity_factory = 0.15
			industrial_capacity_dockyard = 0.15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_war_work_incentives"
			hidden_effect = {
				clr_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
			if = {
				limit = {
					has_idea = BRZ_pacifism1
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism1
					add_idea = BRZ_pacifism2
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism2
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism2
					add_idea = BRZ_pacifism3
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism3
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism3
					add_idea = BRZ_pacifism4
				}
			}
			else = {
				remove_ideas = BRZ_pacifism4
			}
		}
	}

	BRZ_war_propoganda = {

		icon = generic_prepare_civil_war

		available = {
			NOT = { has_country_flag = BRZ_anti_pacifism_campaign_in_progress }
		}

		cost = 25

		fire_only_once = yes

		days_remove = 60

		ai_will_do = {
			factor = 150
		}

		visible = {
			OR = {
				has_idea = BRZ_pacifism1
				has_idea = BRZ_pacifism2
				has_idea = BRZ_pacifism3
				has_idea = BRZ_pacifism4
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BRZ_war_propoganda"
			hidden_effect = {
				set_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
		}

		modifier = {
			war_support_weekly = 0.01
			political_power_factor = -0.3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_war_propoganda"
			hidden_effect = {
				clr_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
			if = {
				limit = {
					has_idea = BRZ_pacifism1
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism1
					add_idea = BRZ_pacifism2
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism2
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism2
					add_idea = BRZ_pacifism3
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism3
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism3
					add_idea = BRZ_pacifism4
				}
			}
			else = {
				remove_ideas = BRZ_pacifism4
			}
		}
	}

	BRZ_if_day = {

		icon = generic_prepare_civil_war

		available = {
			NOT = { has_country_flag = BRZ_anti_pacifism_campaign_in_progress }
		}

		cost = 25

		fire_only_once = yes

		days_remove = 30

		ai_will_do = {
			factor = 150
		}

		visible = {
			OR = {
				has_idea = BRZ_pacifism1
				has_idea = BRZ_pacifism2
				has_idea = BRZ_pacifism3
				has_idea = BRZ_pacifism4
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BRZ_if_day"
			hidden_effect = {
				set_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
		}

		modifier = {
			war_support_weekly = 0.02
			political_power_factor = -0.5
			local_resources_factor = -0.1
			industrial_capacity_factory = -0.1
			industrial_capacity_dockyard = -0.1
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_if_day"
			hidden_effect = {
				clr_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
			if = {
				limit = {
					has_idea = BRZ_pacifism1
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism1
					add_idea = BRZ_pacifism2
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism2
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism2
					add_idea = BRZ_pacifism3
				}
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism3
				}
				swap_ideas = {
					remove_idea = BRZ_pacifism3
					add_idea = BRZ_pacifism4
				}
			}
			else = {
				remove_ideas = BRZ_pacifism4
			}
		}
	}

	BRZ_defenceive_spirit = {

		icon = generic_prepare_civil_war

		ai_will_do = {
			factor = 200
		}

		cost = 25

		fire_only_once = yes

		visible = {
			has_defensive_war = yes
			OR = {
				has_idea = BRZ_pacifism1
				has_idea = BRZ_pacifism2
				has_idea = BRZ_pacifism3
				has_idea = BRZ_pacifism4
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BRZ_defenceive_spirit"
			hidden_effect = {
				clr_country_flag = BRZ_anti_pacifism_campaign_in_progress
			}
			if = {
				limit = {
					has_idea = BRZ_pacifism1
				}
				remove_ideas = BRZ_pacifism1
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism2
				}
				remove_ideas = BRZ_pacifism2
			}
			else_if = {
				limit = {
					has_idea = BRZ_pacifism3
				}
				remove_ideas = BRZ_pacifism3
			}
			else = {
				remove_ideas = BRZ_pacifism4
			}
			add_war_support = 0.1
		}
	}
}

# Restauration of the Empire
BRZ_restauration_of_the_empire = {
	BRZ_proclaim_the_bronzehill_regency = {
		icon = GFX_decision_category_form_griffon_empire
		
		allowed = {
			original_tag = BRZ
		}
		
		visible = {
			NOT = { has_country_flag = BRZ_revenge_tree_loaded }
			has_country_flag = can_declare_empire # Event chain needs to play out (for Regent in Exile/Ignatius path) - Otherwise set early in the focus tree
			OR = {
				owns_state = 382 # Griffenheim
				has_completed_focus = BRZ_march_on_griffenheim
			}
		}
		
		available = {
			owns_state = 382 # Griffenheim
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			every_possible_country = {
				limit = {
					has_character = GRI_emperor_grover_vi
				}
				GRI_emperor_grover_vi = {
					set_nationality = ROOT
				}
			}
			every_possible_country = {
				limit = {
					has_character = GRI_benito
				}
				GRI_benito = {
					set_nationality = ROOT
				}
			}
			if = {
				limit = {
					date > 1021.5.21
				}
				country_event = BRZ_grover_coronation.1
			}
			else = {
				custom_effect_tooltip = BRZ_grover_vi_regency
				add_ideas = BRZ_grover_vi
			}
			hidden_effect = {
				if = {
					limit = {
						GRI = {
							has_idea = GRI_grover_vi
						}
					}
					GRI = {
						remove_ideas = GRI_grover_vi
					}
				}
				news_event = bronzehill_news.2
			}

			hidden_effect = { set_country_flag = { flag = holds_griffon_capital value = 1 } }
			drop_cosmetic_tag = yes
			save_global_event_target_as = griffonian_empire
			set_variable = { global.griffonian_empire_var = THIS }

		    set_cosmetic_tag = BRZ_EMPIRE

			set_capital = { state = 382 remember_old_capital = no }
			
			set_country_flag = has_decleared_the_empire
			
			GRI = {
				every_core_state = {
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				dismantle_faction = yes
			}
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
			}
			create_faction = "imperial_restoration_league"

			# New problems to solve - to be added
			# add_ideas = BRZ_overstretched_bureaucracy
			# add_ideas = BRZ_prejudice_against_dogs
			
			# Emperor is saved, final bonuses are removed
			hidden_effect = { # To be adjusted
				#remove_ideas = BRZ_in_defence_of_tradition_idea
				#remove_ideas = BRZ_our_cause_for_justice_idea
				#remove_ideas = BRZ_march_of_the_workers_idea
				#remove_ideas = BRZ_prinziple_of_total_dedication
				#remove_ideas = BRZ_dogs_of_war
			}
			
			# Imperial owned economy doesn't make sense anymore
			if = {
				limit = {
					has_idea = BRZ_imperial_industry
				}
				remove_ideas = BRZ_imperial_industry
			}
			
			# Can core the Herzland
			STW = { add_to_ROOT_potential_cores = yes } # Strawberry
			FEA = { add_to_ROOT_potential_cores = yes } # Featheria
			PYT = { add_to_ROOT_potential_cores = yes } # Greifenmarschen
			ROU = { add_to_ROOT_potential_cores = yes } # Romau
			YAL = { add_to_ROOT_potential_cores = yes } # Yale
			ANG = { add_to_ROOT_potential_cores = yes } # Angriver
			KAT = { add_to_ROOT_potential_cores = yes } # Katherin
			
			if = {
				limit = {
					has_country_leader = { ruling_only = yes character = BRZ_rufus_loudbark }
				}
				hidden_effect = {
					#country_event = {
					#	id = grover.28
					#	days = 1
					#}
					#load_focus_tree = {
					#	tree = bronzehill_loudbark
					#	keep_completed = yes
					#}
				}
			}
			else_if = {
				limit = {
					has_country_leader = { ruling_only = yes character = BRZ_barnaby_bronzetail }
				}
				hidden_effect = {
					#country_event = {
					#	id = grover.30
					#	days = 1
					#}
					#load_focus_tree = {
					#	tree = bronzehill_young_count
					#	keep_completed = yes
					#}
				}
			}
			else_if = {
				limit = {
					has_government = communism
					NOT = {
						has_country_leader = { ruling_only = yes character = BRZ_kimball_barking_sun }
					}
				}
				hidden_effect = {
					#country_event = {
					#	id = grover.31
					#	days = 1
					#}
					#load_focus_tree = {
					#	tree = bronzehill_rosey_luxembark
					#	keep_completed = yes
					#}
				}
			}
			else_if = {
				limit = {
					has_country_leader = { ruling_only = yes character = BRZ_kimball_barking_sun }
				}
				hidden_effect = {
					#country_event = {
					#	id = grover.29
					#	days = 1
					#}
					#load_focus_tree = {
					#	tree = bronzehill_kimball
					#	keep_completed = yes
					#}
				}
			}
			else_if = {
				limit = {
					has_country_leader = { ruling_only = yes character = BRZ_count_ignatius_bronzetail }
				}
				hidden_effect = {
					#country_event = {
					#	id = bronzehill.27
					#	days = 1
					#}
					#load_focus_tree = {
					#	tree = bronzehill_old_count
					#	keep_completed = yes
					#}
				}
			}
		}
	}
	
	BRZ_declare_unification_of_the_herzland = {
		icon = GFX_decision_category_form_griffon_empire
		
		allowed = {
			original_tag = BRZ
		}
		
		visible = {
			has_country_flag = has_decleared_the_empire
		}
		
		available = {
			GRI = { all_core_state = { is_owned_by = ROOT } } # Griffonian Empire
			STW = { all_core_state = { is_owned_by = ROOT } } # Strawberry
			FEA = { all_core_state = { is_owned_by = ROOT } } # Featheria
			PYT = { all_core_state = { is_owned_by = ROOT } } # Greifenmarschen
			ROU = { all_core_state = { is_owned_by = ROOT } } # Romau
			YAL = { all_core_state = { is_owned_by = ROOT } } # Yale
			ANG = { all_core_state = { is_owned_by = ROOT } } # Angriver
			KAT = { all_core_state = { is_owned_by = ROOT } } # Katherin
			
		}
		
		fire_only_once = yes
		
		complete_effect = {
			add_timed_idea = {
				idea = BRZ_unified_the_herzland
				days = 180
			}
			
			set_country_flag = has_unified_herzland
		}
	}
}

foreign_politics = {
	BRZ_alliance = {
		icon = griffon
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 160
		}
		allowed = {
			original_tag = BRZ
		}
		visible = {
			is_subject = no
			NOT = {
				has_guaranteed = FROM
				is_guaranteed_by = FROM
				has_country_flag = herzland_diplomacy_blocked
			}
			FROM = {
				exists = yes
				is_subject = no
				NOT = {
					has_country_flag = herzland_diplomacy_blocked
				}
			}
		}
		available = {
			FROM = {
				has_war = no
			}
			custom_trigger_tooltip = {
				tooltip = diplomacy_limited_tooltip
				OR = {
					hidden_trigger = {
						has_government = communism
						FROM = {
							has_government = communism
						}
					}
					hidden_trigger = {
						has_government = democratic
						FROM = {
							has_government = democratic
							NOT = {
								has_country_flag = have_regular_puppets
							}
						}
					}
					hidden_trigger = {
						has_government = neutrality
						FROM = {
							has_government = neutrality
							NOT = {
								has_country_flag = have_regular_puppets
							}
						}
					}
					hidden_trigger = {
						has_government = fascism
						FROM = {
							has_government = fascism
							NOT = {
								has_country_flag = have_regular_puppets
							}
						}
					}
				}
			}
			has_war = no
		}
		targets = { ANG PYT KAT FEA YAL ROU STW }
		target_trigger = {
			FROM = {
				OR = {
					original_tag = ANG
					original_tag = PYT
					original_tag = KAT
					original_tag = FEA
					original_tag = YAL
					original_tag = ROU
					original_tag = STW
				}
			}
		}
		target_root_trigger = {
			is_subject = no
			NOT = {
				has_guaranteed = FROM
				is_guaranteed_by = FROM
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BRZ_alliance target: [From.GetName]"
			FROM = {
				country_event = griffonian.10
			}
		}
	}
}

BRZ_bronzehill_council_cat = {
	BRZ_council_timeout_mission = {
		icon = GFX_decision_generic
		
		allowed = { always = no }
		
		priority = 100 # First in this category
		
		available = {
			always = no
		}
		
		days_mission_timeout = 180
		
		timeout_effect = { 
			log = "[GetDateText]: [Root.GetName]: Timeout BRZ_council_timeout_mission"
			country_event = bronzehill_council.2
			if = {
				limit = {
					has_idea = BRZ_powerstruggle_in_the_council
				}
				remove_ideas = BRZ_powerstruggle_in_the_council
			}
		}
	}
	
	BRZ_copperhill_influence_mission = {
		icon = GFX_decision_generic
		
		allowed = { always = no }
		
		priority = 50
		
		available = {
			always = no
		}
		
		days_mission_timeout = 30
		
		timeout_effect = { 
			log = "[GetDateText]: [Root.GetName]: Timeout BRZ_copperhill_influence_mission"
			
		}
	}
	
	BRZ_loudbark_influence_mission = {
		icon = GFX_decision_generic
		
		allowed = { always = no }
		
		priority = 45
		
		available = {
			always = no
		}
		
		days_mission_timeout = 30
		
		timeout_effect = { 
			log = "[GetDateText]: [Root.GetName]: Timeout BRZ_loudbark_influence_mission"
			
		}
	}
	
	BRZ_luxembark_influence_mission = {
		icon = GFX_decision_generic
		
		allowed = { always = no }
		
		priority = 40
		
		available = {
			always = no
		}
		
		days_mission_timeout = 30
		
		timeout_effect = { 
			log = "[GetDateText]: [Root.GetName]: Timeout BRZ_luxembark_influence_mission"
			
		}
	}
	
	BRZ_barkingsun_influence_mission = {
		icon = GFX_decision_generic
		
		allowed = { always = no }
		
		priority = 35
		
		available = {
			always = no
		}
		
		days_mission_timeout = 30
		
		timeout_effect = { 
			log = "[GetDateText]: [Root.GetName]: Timeout BRZ_barkingsun_influence_mission"
			
		}
	}
}

# Remains for now, loc has to be rebuild
BRZ_build_the_imperial_tomb_decisions = {
	BRZ_beguin_demolitions = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 4
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		days_remove = 180

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_beguin_demolitions"
			add_stability = -0.1
			set_country_flag = BRZ_demolitions_complete
			if = {
				limit = {
					382 = {
						industrial_complex > 2
					}
				}
				382 = {
					remove_building = {
						type = industrial_complex
						level = 3
					}
				}
			}
			else_if = {
				limit = {
					382 = {
						industrial_complex > 1
					}
				}
				382 = {
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}
			}
			else_if = {
				limit = {
					382 = {
						industrial_complex > 0
					}
				}
				382 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}

			add_timed_idea = { idea = BRZ_demolition_rebuilding days = 180 }
			country_event = bronzehill_tomb.1
		}
	}

	#Foundations
	BRZ_build_phase_one = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 4
			has_country_flag = BRZ_demolitions_complete
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		days_remove = 180

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_build_phase_one"
			set_country_flag = BRZ_tomb_phase_one
		}
	}

	#The Tomb itself
	BRZ_build_phase_two = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 4
			has_country_flag = BRZ_tomb_phase_one
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		days_remove = 180

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_build_phase_two"
			set_country_flag = BRZ_tomb_phase_two
			country_event = bronzehill_tomb.2
		}
	}

	#The Avenue of Tears
	BRZ_build_phase_three = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 4
			has_country_flag = BRZ_tomb_phase_two
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		days_remove = 180

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_build_phase_three"
			set_country_flag = BRZ_tomb_phase_three
			country_event = bronzehill_tomb.3
		}
	}

	#The Eternal Flame
	BRZ_build_phase_four = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 4
			has_country_flag = BRZ_tomb_phase_three
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		days_remove = 180

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_build_phase_four"
			set_country_flag = BRZ_tomb_phase_four
			country_event = bronzehill_tomb.4
		}
	}

	#The Memorial Gardens
	BRZ_build_gardens = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 2
			has_country_flag = BRZ_tomb_phase_four
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 3
		}

		days_remove = 70

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_build_gardens"
			set_country_flag = BRZ_guardens_done
			add_stability = 0.05
			country_event = bronzehill_tomb.5
		}
	}

	#The Great Statue
	BRZ_finish_statues = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 2
			has_country_flag = BRZ_tomb_phase_four
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 3
		}

		days_remove = 70

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_finish_statues"
			set_country_flag = BRZ_statues_done
			add_stability = 0.05
			country_event = bronzehill_tomb.6
		}
	}

	#The Wall of Memories
	BRZ_finish_murals = {
		icon = generic_construction
		cost = 50

		available = {
			controls_state = 382
			num_of_civilian_factories_available_for_projects > 2
			has_country_flag = BRZ_tomb_phase_four
		}

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 3
		}

		days_remove = 70

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BRZ_finish_murals"
			set_country_flag = BRZ_murals_done
			add_stability = 0.05
			country_event = bronzehill_tomb.7
		}
	}
}