CES_daring_do_adventures_category = {
	CES_prepare_adventure_1 = {
		icon = border_war
		allowed = { original_tag = CES }

		days_remove = 14

		fire_only_once = yes

		cost = 10

		ai_will_do = {
			base = 0
		}

		remove_effect = {
			country_event = daring_adventure.1
		}
	}

	CES_commence_adventure_1 = {
		icon = border_war
		allowed = { original_tag = CES }
		fire_only_once = yes

		state_target = yes
        targets = { 16 }
		
		highlight_states = {
			highlight_state_targets = {
				state = 16
			}
		}

		days_remove = 60

		cost = 20
		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CES_finished_preparing_tt
				has_country_flag = CES_unlock_first_adventure
			}
			custom_trigger_tooltip = {
				tooltip = CES_failed_an_adventure_recently_tt
				NOT = {
					has_country_flag = CES_failed_an_adventure_recently
				}
			}
			#custom_trigger_tooltip = {
			#	tooltip = CES_daring_do_is_available_tt
			#	has_country_flag = CES_daring_do_available
			#}
		}
		ai_will_do = {
			base = 0
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CES_failed_this_adventure_tt
				has_country_flag = CES_fail_adventure_1
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = CES_adventure_will_continue_tt
			country_event = daring_adventure.2
			hidden_effect = {
				country_event = {
					id = daring_adventure.3
					days = 20
					random_days = 5
				}
				country_event = {
					id = daring_adventure.4
					days = 40
					random_days = 5
				}
			}
		}
		remove_effect = {
			country_event = daring_adventure.5
		}
		cancel_effect = {
			clr_country_flag = CES_fail_adventure_1
			set_country_flag = {
				flag = CES_failed_an_adventure_recently
				days = 45
			}
		}
	}

	CES_prepare_adventure_2 = {
		icon = border_war
		allowed = { original_tag = CES }

		days_remove = 14

		fire_only_once = yes

		cost = 10

		ai_will_do = {
			base = 0
		}

		remove_effect = {
			country_event = daring_adventure.6
		}
	}

	CES_commence_adventure_2 = {
		icon = border_war
		allowed = { original_tag = CES }
		fire_only_once = yes

		state_target = yes
        targets = { 30 }
		
		highlight_states = {
			highlight_state_targets = {
				state = 30
			}
		}

		days_remove = 60

		cost = 20
		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CES_finished_preparing_tt
				has_country_flag = CES_unlock_second_adventure
			}
			custom_trigger_tooltip = {
				tooltip = CES_failed_an_adventure_recently_tt
				NOT = {
					has_country_flag = CES_failed_an_adventure_recently
				}
			}
			#custom_trigger_tooltip = {
			#	tooltip = CES_daring_do_is_available_tt
			#	has_country_flag = CES_daring_do_available
			#}
		}
		ai_will_do = {
			base = 0
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CES_failed_this_adventure_tt
				has_country_flag = CES_fail_adventure_2
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = CES_adventure_will_continue_tt
			country_event = daring_adventure.7
			hidden_effect = {
				country_event = {
					id = daring_adventure.8
					days = 20
					random_days = 5
				}
				country_event = {
					id = daring_adventure.9
					days = 40
					random_days = 5
				}
			}
		}
		remove_effect = {
			country_event = daring_adventure.10
		}
		cancel_effect = {
			clr_country_flag = CES_fail_adventure_2
			set_country_flag = {
				flag = CES_failed_an_adventure_recently
				days = 45
			}
		}
	}

	CES_prepare_adventure_3 = {
		icon = border_war
		allowed = { original_tag = CES }

		visible = {
			has_country_flag = CES_succes_adventure_2
		}

		days_remove = 14

		fire_only_once = yes

		cost = 10

		ai_will_do = {
			base = 0
		}

		remove_effect = {
			country_event = daring_adventure.11
		}
	}

	CES_commence_adventure_3 = {
		icon = border_war
		allowed = { original_tag = CES }

		visible = {
			has_country_flag = CES_succes_adventure_2
		}

		fire_only_once = yes

		state_target = yes
        targets = { 348 }
		
		highlight_states = {
			highlight_state_targets = {
				state = 348
			}
		}

		days_remove = 60

		cost = 20
		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CES_finished_preparing_tt
				has_country_flag = CES_unlock_third_adventure
			}
			custom_trigger_tooltip = {
				tooltip = CES_failed_an_adventure_recently_tt
				NOT = {
					has_country_flag = CES_failed_an_adventure_recently
				}
			}
			#custom_trigger_tooltip = {
			#	tooltip = CES_daring_do_is_available_tt
			#	has_country_flag = CES_daring_do_available
			#}
		}
		ai_will_do = {
			base = 0
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CES_failed_this_adventure_tt
				has_country_flag = CES_fail_adventure_3
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = CES_adventure_will_continue_tt
			country_event = daring_adventure.12
			hidden_effect = {
				country_event = {
					id = daring_adventure.13
					days = 20
					random_days = 5
				}
				country_event = {
					id = daring_adventure.14
					days = 40
					random_days = 5
				}
			}
		}
		remove_effect = {
			country_event = daring_adventure.15
		}
		cancel_effect = {
			clr_country_flag = CES_fail_adventure_3
			set_country_flag = {
				flag = CES_failed_an_adventure_recently
				days = 45
			}
		}
	}

	CES_prepare_adventure_4 = {
		icon = border_war
		allowed = { original_tag = CES }

		visible = {
			has_country_flag = CES_succes_adventure_3
		}

		days_remove = 14

		fire_only_once = yes

		cost = 10

		ai_will_do = {
			base = 0
		}

		remove_effect = {
			country_event = daring_adventure.16
		}
	}

	CES_commence_adventure_4 = {
		icon = border_war
		allowed = { original_tag = CES }
		fire_only_once = yes

		visible = {
			has_country_flag = CES_succes_adventure_3
		}

		state_target = yes
        targets = { 36 }
		
		highlight_states = {
			highlight_state_targets = {
				state = 36
			}
		}

		days_remove = 60

		cost = 20
		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CES_finished_preparing_tt
				has_country_flag = CES_unlock_fourth_adventure
			}
			custom_trigger_tooltip = {
				tooltip = CES_failed_an_adventure_recently_tt
				NOT = {
					has_country_flag = CES_failed_an_adventure_recently
				}
			}
			#custom_trigger_tooltip = {
			#	tooltip = CES_daring_do_is_available_tt
			#	has_country_flag = CES_daring_do_available
			#}
		}
		ai_will_do = {
			base = 0
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CES_failed_this_adventure_tt
				has_country_flag = CES_fail_adventure_4
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = CES_adventure_will_continue_tt
			country_event = daring_adventure.17
			hidden_effect = {
				country_event = {
					id = daring_adventure.18
					days = 20
					random_days = 5
				}
				country_event = {
					id = daring_adventure.19
					days = 40
					random_days = 5
				}
			}
		}
		remove_effect = {
			country_event = daring_adventure.20
		}
		cancel_effect = {
			clr_country_flag = CES_fail_adventure_4
			set_country_flag = {
				flag = CES_failed_an_adventure_recently
				days = 45
			}
		}
	}

	CES_prepare_adventure_5 = {
		icon = border_war
		allowed = { original_tag = CES }

		days_remove = 14

		fire_only_once = yes

		cost = 10

		ai_will_do = {
			base = 0
		}

		remove_effect = {
			country_event = daring_adventure.21
		}
	}

	CES_commence_adventure_5 = {
		icon = border_war
		allowed = { original_tag = CES }
		fire_only_once = yes

		state_target = yes
        targets = { 348 }
		
		highlight_states = {
			highlight_state_targets = {
				state = 348
			}
		}

		days_remove = 60

		cost = 20
		visible = {
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CES_finished_preparing_tt
				has_country_flag = CES_unlock_fifth_adventure
			}
			custom_trigger_tooltip = {
				tooltip = CES_failed_an_adventure_recently_tt
				NOT = {
					has_country_flag = CES_failed_an_adventure_recently
				}
			}
			#custom_trigger_tooltip = {
			#	tooltip = CES_daring_do_is_available_tt
			#	has_country_flag = CES_daring_do_available
			#}
		}
		ai_will_do = {
			base = 0
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CES_failed_this_adventure_tt
				has_country_flag = CES_fail_adventure_5
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = CES_adventure_will_continue_tt
			country_event = daring_adventure.22
			hidden_effect = {
				country_event = {
					id = daring_adventure.23
					days = 20
					random_days = 5
				}
				country_event = {
					id = daring_adventure.24
					days = 40
					random_days = 5
				}
			}
		}
		remove_effect = {
			country_event = daring_adventure.25
		}
		cancel_effect = {
			clr_country_flag = CES_fail_adventure_5
			set_country_flag = {
				flag = CES_failed_an_adventure_recently
				days = 45
			}
		}
	}
}

CES_resistance_category = {
	CES_form_equestria_resistance = {
		icon = equestrian_union
		cost = 200
		fire_only_once = yes
		ai_will_do = {
			factor = 160
		}
		available = {
			controls_state = 3
		}
		visible = {
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAL_form_equestria"
			set_cosmetic_tag = CES_reformed_equestria
			every_state = {
				limit = {
					OR = {
						is_core_of = EQS
						is_in_array = {
							state_original_cores = EQS
						}
					}
				}
				add_core_of = ROOT
			}
		}
	}
	CES_resistance_main_defence_line_north_west = {
		icon = generic_prepare_civil_war
		allowed = {
			original_tag = CES
		}
		available = {
			controls_state = 35
		}
		visible = {
			has_country_flag = CES_unlocked_fort_supply_decisions
			35 = {
				NOT = { has_state_flag = CES_main_defences_built }
			}
		}
		
		ai_will_do = {
			factor = 50
		}
		
		cost = 25
		days_remove = 60
		highlight_states = { 
			highlight_state_targets = {
				state = 35
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CES_resistance_main_defence_line_north_west"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_resistance_main_defence_line_north_west"
			35 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						id = 6531
						id = 3641
						id = 704
						id = 3700
						id = 9620
					}
				}
			}
			hidden_effect = {
				35 = { 
				    set_state_flag = CES_main_defences_built 
				}
			}
		}
	}

	CES_resistance_main_defence_line_north = {
		icon = generic_prepare_civil_war
		allowed = {
			original_tag = CES
		}
		available = {
			controls_state = 27
		}
		visible = {
			has_country_flag = CES_unlocked_fort_supply_decisions
			27 = {
				NOT = { has_state_flag = CES_main_defences_built }
			}
		}
		
		ai_will_do = {
			factor = 50
		}
		
		cost = 25
		days_remove = 60
		highlight_states = { 
			highlight_state_targets = {
				state = 27
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CES_resistance_main_defence_line_north"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_resistance_main_defence_line_north"
			28 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						id = 963
						id = 3958
					}
				}
			}
			27 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						id = 661
						id = 12098
						id = 9784
						id = 6972
					}
				}
			}
			37 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6683
				}
			}
			hidden_effect = {
				27 = { 
				    set_state_flag = CES_main_defences_built 
				}
			}
		}
	}

	CES_resistance_main_defence_line_west = {
		icon = generic_prepare_civil_war
		allowed = {
			original_tag = CES
		}
		available = {
			controls_state = 50
		}
		visible = {
			has_country_flag = CES_unlocked_fort_supply_decisions
			50 = {
				NOT = { has_state_flag = CES_main_defences_built }
			}
		}
		
		ai_will_do = {
			factor = 50
		}
		
		cost = 25
		days_remove = 60
		highlight_states = { 
			highlight_state_targets = {
				state = 50
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CES_resistance_main_defence_line_west"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_resistance_main_defence_line_west"
			50 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						id = 9572
						id = 9557
						id = 982
					}
				}
			}
			82 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11572
				}
			}
			35 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9587
				}
			}
			hidden_effect = {
				50 = { 
				    set_state_flag = CES_main_defences_built 
				}
			}
		}
	}
}

foreign_politics = {
	CES_ask_confederacy = {
		icon = griffon
		visible = {
			has_country_flag = CES_unlocked_diplomacy_resistance
			NOT = {
				is_in_faction_with = SCS
			}
			SCS = {
				exists = yes
				NOT = {
					has_government = fascism
				}
			}
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			SCS = {
				country_event = daring_resistance.12
			}
		}
		ai_will_do = {
			factor = 80
		}
	}

	CES_ask_los_pegasus = {
		icon = griffon
		visible = {
			has_country_flag = CES_unlocked_diplomacy_resistance
			NOT = {
				is_in_faction_with = LSP
			}
			LSP = {
				exists = yes
				NOT = {
					has_government = fascism
				}
			}
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			LSP = {
				country_event = daring_resistance.12
			}
		}
		ai_will_do = {
			factor = 80
		}
	}
	CES_take_the_meridiennes = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			has_country_flag = CES_unlocked_solar_invasion
			MER = {
				is_subject = no
				is_in_faction = no
			}
		}
		visible = {
			has_country_flag = CES_unlocked_solar_invasion
			MER = {
				is_subject = no
				is_in_faction = no
				exists = yes
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 20
		war_with_target_on_remove = yes
		targets = { MER }
		target_trigger = {
			FROM = { tag = MER }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_take_the_meridiennes"
			declare_war_on = {
				target = MER
				type = annex_everything
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	CES_attack_puerto_caballo = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			has_country_flag = CES_unlocked_solar_invasion
			PCB = {
				is_subject = no
				is_in_faction = no
			}
		}
		visible = {
			has_country_flag = CES_unlocked_solar_invasion
			PCB = {
				is_subject = no
				is_in_faction = no
				exists = yes
			}
		}
		cost = 30
		fire_only_once = yes
		days_remove = 25
		war_with_target_on_remove = yes
		targets = { PCB }
		target_trigger = {
			FROM = { tag = PCB }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_attack_puerto_caballo"
			declare_war_on = {
				target = PCB
				type = annex_everything
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	CES_the_dragon_isles = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			has_country_flag = CES_unlocked_solar_invasion
			DRG = {
				is_subject = no
				is_in_faction = no
			}
		}
		visible = {
			has_country_flag = CES_unlocked_solar_invasion
			DRG = {
				is_subject = no
				is_in_faction = no
				exists = yes
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 35
		war_with_target_on_remove = yes
		targets = { DRG }
		target_trigger = {
			FROM = { tag = DRG }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_the_dragon_isles"
			declare_war_on = {
				target = DRG
				type = annex_everything
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	CES_the_chiropterrans_independent = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			has_country_flag = CES_unlocked_chiropterran_crusade
			BAT = {
				is_subject = no
			}
		}
		visible = {
			has_country_flag = CES_unlocked_chiropterran_crusade
			BAT = {
				is_subject = no
				exists = yes
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 35
		war_with_target_on_remove = yes
		targets = { BAT }
		target_trigger = {
			FROM = { tag = BAT }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_the_chiropterrans_independent"
			declare_war_on = {
				target = BAT
				type = annex_everything
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	CES_the_chiropterrans_subject = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			has_country_flag = CES_unlocked_chiropterran_crusade
			BAT = {
				is_subject = yes
			}
		}
		visible = {
			has_country_flag = CES_unlocked_chiropterran_crusade
			BAT = {
				is_subject = yes
				exists = yes
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 35
		war_with_target_on_remove = yes
		targets = { BAT }
		target_trigger = {
			FROM = { tag = BAT }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_the_chiropterrans_subject"
			BAT.overlord = {
				country_event = {
					id = daring_solar.7
					days = 3
				}
			}
			custom_effect_tooltip = CES_the_chiropterrans_subject.tt
		}
		ai_will_do = {
			factor = 100
		}
	}

	CES_the_chiropterrans_annexed = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			has_country_flag = CES_unlocked_chiropterran_crusade
			BAT = {
				exists = no
			}
		}
		visible = {
			has_country_flag = CES_unlocked_chiropterran_crusade
			BAT = {
				exists = no
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 35
		war_with_target_on_remove = yes
		targets = { WAR ZAR TBK HIE HIP CTH CVA }
		target_trigger = {
			FROM = { tag = 712.owner }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_the_chiropterrans_annexed"
			declare_war_on = {
				target = 712.owner
				type = annex_everything
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}
CES_shadow_path_or_not_category = {
	CES_shadow_timer_decision = {
		icon = GFX_decision_generic_merge_plant_tank
		allowed = {
			always = no
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CES_has_stable_government_tt
				OR = {
					has_country_flag = CES_loyalist_path
					has_country_flag = CES_resistance_path
					has_country_flag = CES_solar_path
				}	
			}
		}
		visible = {
			has_country_flag = CES_start_shadow_timer
		}
		available = {
			always = no
		}
		fire_only_once = yes
		days_mission_timeout = 120

		timeout_effect = {
			custom_effect_tooltip = CES_shadow_timer_decision_tt
		}
		
		ai_will_do = {
			factor = 100
		}
	}
}

CES_solar_category = {
	CES_dummy_decision = {
		icon = GFX_decision_generic_merge_plant_tank
		available = {
			always = no
		}
		cost = 50
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CES_dummy_decision"
		}
		ai_will_do = {
			factor = 100
		}
	}
}
