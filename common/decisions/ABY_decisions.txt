ABY_mental_stability_category = {
	ABY_guide_to_baastism = {

		icon = scroll

		cost = 0
		days_re_enable = 1

		visible = {
			
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_baastism"
			country_event = abyssinia.55
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_acquire_pets = {

		icon = diamond_dog_paw
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		cost = 25
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_acquire_pets"
			custom_effect_tooltip = ABY_new_advisors_tt
			set_country_flag = ABY_pets_unlocked
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_go_outside = {

		icon = generic_magic
		cost = 50
		fire_only_once = yes
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		days_remove = 30
		complete_effect = {
			add_popularity = { ideology = neutrality popularity = 0.05 }
			add_popularity = { ideology = democratic popularity = 0.05 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_go_outside"
			add_ideas = ABY_a_good_friend
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_get_a_hobby = {

		icon = pawn
		cost = 10
		fire_only_once = yes
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		complete_effect = {
			country_event = abyssinia.56
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_meditative_retreat = {

		icon = flower
		cost = 50
		
		days_re_enable = 1
		available = {
			
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		days_remove = 120
		complete_effect = {
			set_country_flag = ABY_gomez_absent
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_meditative_retreat"
			clr_country_flag = ABY_gomez_absent
			if = {
				limit = {
					has_country_leader_with_trait = ABY_slightly_less_melancholic
				}
				effect_tooltip = {
					swap_ruler_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic }
				}
				hidden_effect = {
					ABY_taile_sehissie_clawomonid = {
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = conservatism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = harmonic_constitutionalism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = despotism }
					}
				}
			}
			ABY_mental_stab_add_10 = yes
		}
		ai_will_do = {
			factor = 50
		}
	}
	
	ABY_go_to_therapy = {

		icon = celestia
		cost = 75
		fire_only_once = no
		days_re_enable = 1
		available = {
			EQS = {
				exists = yes
				has_government = democratic
			}
			has_country_flag = ABY_treasury_refilled
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		days_remove = 70
		complete_effect = {
			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_go_to_therapy"
			if = {
				limit = {
					has_country_leader_with_trait = ABY_slightly_less_melancholic
				}
				effect_tooltip = {
					swap_ruler_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic }
				}
				hidden_effect = {
					ABY_taile_sehissie_clawomonid = {
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = conservatism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = harmonic_constitutionalism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = despotism }
					}
				}
			}
			ABY_mental_stab_add_15 = yes
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_stop_using_drugs = {

		icon = flower

		cost = 5
		fire_only_once = yes
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_50
				check_variable = {
					ABY_gomez_mental_stability > 49
				}
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			NOT = {
				ABY_taile_sehissie_clawomonid = {
					has_trait = substance_addict
				}
			}
		}
		complete_effect = {
			remove_trait = {
				character = ABY_taile_sehissie_clawomonid
				trait = substance_abuser
			}
			ABY_mental_stab_reduce_10 = yes
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_stop_using_hard_drugs = {

		icon = opium

		cost = 25
		fire_only_once = yes
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_50
				check_variable = {
					ABY_gomez_mental_stability > 49
				}
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			ABY_taile_sehissie_clawomonid = {
				has_trait = substance_addict
			}
		}
		days_remove = 90
		remove_effect = {
			remove_trait = {
				character = ABY_taile_sehissie_clawomonid
				trait = substance_abuser
			}
			remove_trait = {
				character = ABY_taile_sehissie_clawomonid
				trait = substance_addict
			}
			effect_tooltip = { remove_country_leader_trait = ABY_druggie }
			hidden_effect = {
				ABY_taile_sehissie_clawomonid = {
					remove_country_leader_trait = { ideology = despotism trait = ABY_druggie }
					remove_country_leader_trait = { ideology = conservatism trait = ABY_druggie }
					remove_country_leader_trait = { ideology = harmonic_constitutionalism trait = ABY_druggie }
				}
			}
			ABY_mental_stab_reduce_25 = yes
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_remake_the_crown = {

		icon = generic_monarchy

		cost = 100
		fire_only_once = yes
		available = {
			783 = { 
				is_owned_and_controlled_by = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_75
				check_variable = {
					ABY_gomez_mental_stability > 74
				}
			}
			has_country_flag = ABY_treasury_refilled
			NOT = {
				has_country_leader_with_trait = ABY_druggie
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			has_country_leader_with_trait = ABY_half_melancholic
		}
		complete_effect = {
			country_event = abyssinia.58
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_have_sex = {

		icon = wedding

		cost = 10
		fire_only_once = yes
		days_remove = 270
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_95
				check_variable = {
					ABY_gomez_mental_stability > 94
				}
			}
			has_country_flag = ABY_treasury_refilled
			NOT = {
				has_country_leader_with_trait = ABY_druggie
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			has_country_leader_with_trait = ABY_bloomer
		}
		complete_effect = {
		
		}
		remove_effect = {
			country_event = abyssinia.59
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_revisit_felibela_1 = {

		icon = flower

		cost = 25
		fire_only_once = yes
		available = {
			has_country_flag = ABY_low_stab_event_triggered
			783 = { 
				is_owned_and_controlled_by = ROOT
			}
		}
		days_remove = 14
		complete_effect = {
			set_country_flag = ABY_gomez_absent
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_revisit_felibela_1"
			country_event = abyssinia.47
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_revisit_felibela_2 = {

		icon = flower

		cost = 25
		fire_only_once = yes
		available = {
			783 = { 
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			has_country_flag = ABY_tekle_visited
		}
		days_remove = 14
		complete_effect = {
			set_country_flag = ABY_gomez_absent
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_revisit_felibela_2"
			country_event = abyssinia.53
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_touch_grass = {

		icon = flower

		cost = 0
		fire_only_once = yes
		available = {
			
		}
		visible = {
			is_debug = yes
		}
		complete_effect = {
			set_variable = {
				var = ABY_gomez_mental_stability
				value = 100
				tooltip = ABY_set_mental_stab_100
			}
			custom_effect_tooltip = ABY_grass_touching_tooltip
			hidden_effect = {
				country_event = abyssinia.60
			}
		}
		ai_will_do = {
			factor = 50
		}
	}
}
ABY_noble_decision_category = {
	ABY_guide_to_noble_titles = {

		icon = scroll

		cost = 0
		days_re_enable = 1

		visible = {
			
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_noble_titles"
			country_event = abyssinia.41
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_pardon_ras_tardar = {

		icon = flower

		cost = 25
		fire_only_once = yes

		visible = {
			has_country_flag = ABY_ras_tardar_arrested
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_pardon_ras_tardar"
			clr_country_flag = ABY_ras_tardar_arrested
			custom_effect_tooltip = ABY_tardar_loyal_tt
			set_variable = { ABY_noble_loyalties^0 = 1 }
			ABY_update_number_of_loyal_disloyal = yes
		}
		ai_will_do = {
			factor = 50
		}
	}
	ABY_nobles_elect_catrina = {
		icon = pawn
		activation = {
			always = no
		}
        days_mission_timeout = 40
		fire_only_once = no
		is_good = no
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_get_loyal_nobles
				check_variable = { 
					ABY_num_of_loyal > ABY_num_of_disloyal 
				}
			}
		}
		cancel_trigger = {
			has_government = fascism
			
		}
		timeout_effect = {
			country_event = abyssinia.40
        }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_nobles_elect_catrina"
			add_stability = 0.05
		}
	}
}
ABY_slave_decision_category = {
	ABY_pacify_slaves = {
		icon = crossed_swords
		visible = { 
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_slave_controlled_state
				}
			}
		}

		target_root_trigger = {
			
		}
		
		available = { 
			has_full_control_of_state = FROM
			has_manpower > 0
		}

		state_target = yes

		target_array = core_states
		
		on_map_mode = map_and_decisions_view

		target_trigger = {
			
		}
		
		ai_will_do = {
			base = 30
		}
		
		cost = 25
		
		days_remove = 30
		
		modifier = { 
			weekly_manpower = -250
		}
		
		remove_effect = {
			add_stability = 0.05
			FROM = {
				remove_dynamic_modifier = {
					modifier = ABY_slave_controlled_state
				}
			}
			if = {
				limit = {
					has_power_balance = {
						id = ABY_neutral_harmony
					}
				}
				add_power_balance_value = {
					id = ABY_neutral_harmony
					value = -0.05
				}
			}
		}
	}
}
ABY_neutral_harmony_category = {
	
	ABY_debug_harmony = {
		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}
		complete_effect = {
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.67
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	ABY_debug_neutrality = {
		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}
		complete_effect = {
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = -0.67
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	ABY_promote_neutrality = {

		icon = anti_harmony

		visible = {
			
		}
		cost = 50
		days_re_enable = 1
		days_remove = 30
		available = {
		
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_promote_neutrality"
			add_popularity = { ideology = neutrality popularity = 0.05 }
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = -0.1
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	ABY_promote_harmony = {

		icon = anti_neutral

		visible = {
			
		}
		cost = 50
		days_re_enable = 1
		days_remove = 30
		available = {
		
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_promote_harmony"
			add_popularity = { ideology = democratic popularity = 0.05 }
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.1
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
}
ABY_manedalusia_category = {
	ABY_al_manedalus_awaken = {
		icon = rifles
		activation = {
			has_war = no
			MDL = {
				exists = no
			}
			OR = {
				741 = {
					is_owned_by = ROOT
					resistance > 49
				}
				740 = {
					is_owned_by = ROOT
					resistance > 49
				}
				738 = {
					is_owned_by = ROOT
					resistance > 49
				}
			}
			NOT = {
				has_country_flag = ABY_MDL_crushed
			}
		}
        days_mission_timeout = 50
		fire_only_once = no
		is_good = no
		available = {
			741 = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					resistance < 50
				}
			}
			740 = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					resistance < 50
				}
			}
			738 = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					resistance < 50
				}
			}
		}
		cancel_trigger = {
			OR = {
				has_country_flag = ABY_MDL_crushed
				has_war = yes
			}
		}
		visible = {
			NOT = {
				has_country_flag = ABY_MDL_crushed
			}
		}
		timeout_effect = {
			country_event = abyssinia.45
        }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_al_manedalus_awaken"
			add_political_power = 25
			add_stability = 0.05
		}
	}
}
economy_decisions = {
	ABY_develop_state = {
		icon = generic_construction
		available = {
			has_full_control_of_state = FROM
			FROM = {
				is_demilitarized_zone = no
			}
		}
		visible = {
			has_country_flag = ABY_state_dev_decisions_unlock
			FROM = {
				NOT = {
					has_state_flag = ABY_state_developed
					state = 775
				}
			}
		}
		cost = 25
		ai_will_do = {
			base = 50
		}
		fire_only_once = yes
		
		state_target = yes

		target_array = core_states
		
		on_map_mode = map_and_decisions_view
		
		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		days_remove = 45
		modifier = {
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_develop_state"
			FROM = {
				set_state_flag = ABY_state_developed
				improve_state_category = yes
			}
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				ABY_timothy_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				ABY_tardar_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				ABY_sylvester_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				ABY_gumball_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
}
ABY_mercenaries_category = {
	ABY_charger_mercs = {
		icon = zebra_charger
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_charger_mercs"
			custom_effect_tooltip = ABY_charger_merc_tt
			hidden_effect = {
				set_technology = { 
					popup = no
					tech_spirit_warriors = 1 
				}
				fix_weapon_techs = yes
				load_oob = "ABY_merc_chargers"
				delete_unit_template_and_units = { division_template = "Chargers" }
				set_technology = { 
					popup = no
					tech_spirit_warriors = 0 
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_charger_mercs"
			delete_unit_template_and_units = { division_template = "Desert Mercenaries" }
		}
	}
	ABY_pegasus_mercs = {
		icon = pegasus_wing
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_pegasus_mercs"
			custom_effect_tooltip = ABY_pegasus_merc_tt
			
			hidden_effect = {
				set_technology = { 
					popup = no
					tech_pegasi = 1 
				}
				fix_weapon_techs = yes
				load_oob = "ABY_merc_pegasi"
				fix_weapon_techs = yes
				delete_unit_template_and_units = { division_template = "Pegasus Shock Unit" }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_pegasus_mercs"
			delete_unit_template_and_units = { division_template = "Maregyptian Mercenaries" }
		}
	}
	ABY_knight_mercs = {
		icon = knight_helm
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_knight_mercs"
			custom_effect_tooltip = ABY_knight_merc_tt
			
			hidden_effect = {
				set_technology = { 
					popup = no
					tech_knights = 1 
				}
				fix_weapon_techs = yes
				load_oob = "ABY_merc_knights"
				set_technology = { 
					popup = no
					tech_knights = 0 
				}
				delete_unit_template_and_units = { division_template = "Griffon Knights" }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_knight_mercs"
			delete_unit_template_and_units = { division_template = "Wingbardian Condottieri" }
		}
	}
	ABY_dragon_mercs = {
		icon = fire
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 100
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.15
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_dragon_mercs"
			custom_effect_tooltip = ABY_dragon_mercs_tt
			hidden_effect = {
			    set_technology = {
					popup = no
				    dragons_light = 1
			    }
				add_equipment_to_stockpile = {
					type = dragon_equipment_0
					amount = 250
					producer = DRG
				}
				load_oob = "ABY_merc_dragons"
				set_technology = {
					popup = no
					dragons_light = 0 
				}
				fix_weapon_techs = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_dragon_mercs"
			delete_unit_template_and_units = { division_template = "Dragon Mercenaries" }
		}
	}
}
