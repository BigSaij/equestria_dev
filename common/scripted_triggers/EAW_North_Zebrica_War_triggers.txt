# All the triggers for the NZW War

# NZ1 = island party = normally (currently exclusively even) Hippogriffia
# NZ2 = northern party = normally Colthage
# NZ3 = southern party = normally Chiropterra

# Is the country aligned with the island party
NZW_is_aligned_with_NZ1 = {
	OR = {
		has_country_flag = NZW_country_is_aligned_with_NZ1 # Country flag for special situations
		is_subject_of = NZ1 # Subject counts as aligned
		has_war_with = NZ1 # Special case (e.g. HIP can go to war with WAR or ZUM)
		
		# Owned by NZ1
		all_of_scopes = {
			array = original_cores
			owner = {
				OR = {
					tag = NZ1
					is_subject_of = NZ1
				}
			}
		}
	}
}

# Is the country aligned with the northern party
NZW_is_aligned_with_NZ2 = {
	OR = {
		has_country_flag = NZW_country_is_aligned_with_NZ1 # Country flag for special situations
		is_subject_of = NZ2 # Subject counts as aligned
		has_war_with = NZ2 # Special case (e.g. HIP can go to war with WAR or ZUM)
		
		# Owned by NZ2
		all_of_scopes = {
			array = original_cores
			owner = {
				OR = {
					tag = NZ2
					is_subject_of = NZ2
				}
			}
		}
	}
}

# Is the country aligned with the southern party
NZW_is_aligned_with_NZ3 = {
	OR = {
		has_country_flag = NZW_country_is_aligned_with_NZ1 # Country flag for special situations
		is_subject_of = NZ3 # Subject counts as aligned
		has_war_with = NZ3 # Special case (e.g. HIP can go to war with WAR or ZUM)
		
		# Owned by NZ3
		all_of_scopes = {
			array = original_cores
			owner = {
				OR = {
					tag = NZ3
					is_subject_of = NZ3
				}
			}
		}
	}
}

# Is the country not aligned with anyone
NZW_is_unaligned = {
	AND = {
		NOT = { NZW_is_aligned_with_NZ1 = yes }
		NOT = { NZW_is_aligned_with_NZ2 = yes }
		NOT = { NZW_is_aligned_with_NZ3 = yes }
	}
}

# Is the northern party ready for war
NZW_is_northern_party_ready = {
	custom_effect_tooltip = {
		tooltip = NZW_is_northern_party_ready_tooltip
		NOT = { CTH = { NZW_is_unaligned = yes } }
		NOT = { CVA = { NZW_is_unaligned = yes } }
		NOT = { CDR = { NZW_is_unaligned = yes } }
		NOT = { ZUM = { NZW_is_unaligned = yes } }
	}
}

# Is the southern party ready for war
NZW_is_southern_party_ready = {
	custom_effect_tooltip = {
		tooltip = NZW_is_southern_party_ready_tooltip
		NOT = { BAT = { NZW_is_unaligned = yes } }
		NOT = { TBK = { NZW_is_unaligned = yes } }
		NOT = { ZAR = { NZW_is_unaligned = yes } }
		NOT = { WAR = { NZW_is_unaligned = yes } }
	}
}

# Is this country NZ1 (Island party tag)
NZW_is_NZ1_trigger = {
	# todo
}

# Is this country NZ2 (Northern party tag)
NZW_is_NZ2_trigger = {
	# todo
}

# Is this country NZ3 (Southern party tag)
NZW_is_NZ3_trigger = {
	# todo
}