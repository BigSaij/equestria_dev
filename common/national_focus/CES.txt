focus_tree = {
	id = Celestial_State_Focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CES
			NOT = { country_exists = event_target:solar_empire }
		}
	}
	continuous_focus_position = { x = 1700 y = 284 }
	default = no
	shared_focus = CES_cw_1_1
	shared_focus = CES_cw_3_0
	shared_focus = CES_cw_3_10
}

shared_focus = {
	id = CES_cw_1_1
	icon = GFX_goal_generic_fortify_city
	cost = 1
	x = 6
	y = 0
	ai_will_do = {
		factor = 1
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_political_power = 75
		country_event = { 
			id = daring.1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = CES_cw_2_1
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 5
	y = 1
	ai_will_do = {
		factor = 1
	}
	prerequisite = {
		focus = CES_cw_1_1
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_equipment_to_stockpile = { 
		    type = infantry_equipment 
		    amount = 2000
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_2_2
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 7
	y = 1
	ai_will_do = {
		factor = 1
	}
	prerequisite = {
		focus = CES_cw_1_1
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_war_support = 0.05
		add_ideas = CES_military_potential_idea
		add_equipment_to_stockpile = { 
		    type = support_equipment_1
		    amount = 200
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_3_0
	icon = GFX_goal_generic_fortify_city
	cost = 1
	x = 1
	y = 2
	ai_will_do = {
		factor = 1
	}
	available = {
		has_completed_focus = CES_cw_1_1
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		custom_effect_tooltip = CES_fleet_spawn
		hidden_effect = {
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_equipment_variant = {
					name = "Constellation Class"
					name_group = EQS_DD_HISTORICAL
					type = ship_hull_light_1
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_light_battery_2
						fixed_ship_anti_air_slot = empty
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = light_ship_engine_2
						fixed_ship_torpedo_slot = ship_torpedo_1
						mid_1_custom_slot = ship_torpedo_1
						rear_1_custom_slot = ship_depth_charge_1
					}
					obsolete = yes
				}
				load_oob = "CES_fleet"
				load_oob = "CES_fleet"
			}
			else = {
				load_oob = "CES_fleet_legacy"
				load_oob = "CES_fleet_legacy"
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_3_1
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 4
	y = 2
	ai_will_do = {
		factor = 1
	}
	prerequisite = {
		focus = CES_cw_2_1
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		86 = {
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
		one_random_infrastructure = yes
		add_equipment_to_stockpile = { 
		    type = infantry_equipment 
		    amount = 250
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_3_2
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 6
	y = 2
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_2_1 }
	prerequisite = { focus = CES_cw_2_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_political_power = 100
		army_experience = 20
		remove_ideas = CES_disorganized
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_3_3
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 8
	y = 2
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_2_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_war_support = 0.1
		15 = {
			add_building_construction = {
				type = bunker
				province = 586
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_3_10
	icon = GFX_goal_generic_fortify_city
	cost = 1
	x = 11
	y = 2
	ai_will_do = {
		factor = 1
	}
	available = {
		has_completed_focus = CES_cw_1_1
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_equipment_to_stockpile = { 
		    type = artillery_equipment_0 
		    amount = 200
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_4_0
	icon = GFX_goal_generic_fortify_city
	cost = 1
	x = 1
	y = 3
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_3_0 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		one_random_dockyard = yes
		add_ideas = CES_naval_cw_tactics
		add_doctrine_cost_reduction = {
			name = cat_trade_interdiction
			cost_reduction = 0.5
			uses = 1
			category = cat_trade_interdiction
		}
		add_equipment_to_stockpile = { 
		    type = infantry_equipment 
		    amount = 500
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_4_1
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 3
	y = 3
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_3_1 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = EQS }

	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_4_2
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 5
	y = 3
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_3_1 }
	prerequisite = { focus = CES_cw_3_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		#TODO figure out how to add airframe
		custom_effect_tooltip = CES_planes_tlp
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			hidden_effect = {
				load_oob = "CES_planes"
			}
		}
		else = {
			hidden_effect = {
				load_oob = "CES_planes_legacy"
			}
		}
		air_experience = 30
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_4_3
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 7
	y = 3
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_3_3 }
	prerequisite = { focus = CES_cw_3_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		two_random_arms_factory = yes
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_4_4
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 9
	y = 3
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_3_3 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		custom_effect_tooltip = CES_lookout_tlp
		hidden_effect = {
			load_oob = "CES_lookout"
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_4_10
	icon = GFX_goal_generic_fortify_city
	cost = 1
	x = 11
	y = 3
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_3_10 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		351 = {
			add_building_construction = {
				type = bunker
				province = 668
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 668
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_5_1
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 2
	y = 4
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_4_0 }
	prerequisite = { focus = CES_cw_4_1 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		navy_experience = 20
		custom_effect_tooltip = available_ship_designer
		add_ideas = stableside_naval_company
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_5_2
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 4
	y = 4
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_4_1 }
	prerequisite = { focus = CES_cw_4_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		swap_ideas = { remove_idea = CES_military_potential_idea add_idea = CES_military_potential_idea_2 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_5_4
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 8
	y = 4
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_4_3 }
	prerequisite = { focus = CES_cw_4_4 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_ideas = CES_night_gurads
		if = {
			limit = { NOT = { has_global_flag = EQS_Comet_Trail_created } }
			EQS = { EQS_SOL_comet_trail = { set_nationality = PREV.PREV } }
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				EQS_SOL_comet_trail = {
					add_trait = {
						trait = supply_raider
					}
				}

				else = {
					EQS_SOL_comet_trail = {
						add_trait = {
							trait = supply_raiderno_wtt
						}
					}
				}
			}
			set_global_flag = EQS_Comet_Trail_created
		}
		custom_effect_tooltip = night_guard_reigments_spawn_tlp
		hidden_effect = {
			load_oob = "CES_NMS_defectors"
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_5_5
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 10
	y = 4
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_4_4 }
	prerequisite = { focus = CES_cw_4_10 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		one_random_industrial_complex = yes
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_6_1
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 1
	y = 5
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_4_0 }
	prerequisite = { focus = CES_cw_5_1 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
		custom_effect_tooltip = CES_marine_regiment_spawn
		hidden_effect = {
			load_oob = "CES_marines"
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_6_2
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 3
	y = 5
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_5_1 }
	prerequisite = { focus = CES_cw_5_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_ideas = CES_acclimatization_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_6_3
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 5
	y = 5
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_5_2 }
	prerequisite = { focus = CES_cw_4_2 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_stability = 0.1
		add_political_power = 120
		#TODO event
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_6_4
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 7
	y = 5
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_5_4 }
	prerequisite = { focus = CES_cw_4_3 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_ideas = CES_wartime_farms_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_6_5
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 9
	y = 5
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_5_4 }
	prerequisite = { focus = CES_cw_5_5 }
	available = { 
		32 = { is_controlled_by = CES }
		353 = { is_controlled_by = CES } 
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		32 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		353 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CES_cw_6_6
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 11
	y = 5
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_5_5 }
	prerequisite = { focus = CES_cw_4_10 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = CES_cw_7_4
	icon = GFX_goal_generic_fortify_city
	cost = 2
	x = 6
	y = 6
	ai_will_do = {
		factor = 1
	}
	prerequisite = { focus = CES_cw_6_1 }
	prerequisite = { focus = CES_cw_6_2 }
	prerequisite = { focus = CES_cw_6_3 }
	prerequisite = { focus = CES_cw_6_4 }
	prerequisite = { focus = CES_cw_6_5 }
	prerequisite = { focus = CES_cw_6_6 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CES_cw_1_1"
		add_timed_idea = { 
			idea = CES_fight_for_light
			days = 180 
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}