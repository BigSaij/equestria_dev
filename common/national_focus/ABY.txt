focus_tree = {
	id = ABY_starting_tree

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = ABY
		}
	}

	continuous_focus_position = { x = 2000 y = 1000 }

	shared_focus = ABY_sad_cat
}
focus_tree = {
	id = ABY_catrina_tree

	country = {
		factor = 0
	}

	continuous_focus_position = { x = 2000 y = 1000 }

	
}
focus_tree = {
	id = ABY_gomez_tree

	country = {
		factor = 0
	}

	continuous_focus_position = { x = 2000 y = 1000 }

	shared_focus = ABY_assess_situation
	shared_focus = ABY_nationalize_bank_of_abyssinia
	shared_focus = ABY_expand_fishing_fleet
	shared_focus = ABY_pacify_slaves_focus
}
shared_focus = {
	id = ABY_sad_cat
	icon = GFX_goal_psody_cyrus
	x = 8
	y = 0
	cost = 5
	available = {
		always = no
	}
	ai_will_do = {
		factor = 40
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_sad_cat"
		
	}
}
shared_focus = {
	id = ABY_assess_situation
	icon = GFX_goal_document
	x = 8
	y = 0
	cost = 5
	ai_will_do = {
		factor = 40
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_assess_situation"
		custom_effect_tooltip = ABY_trees_unlocked
		country_event = abyssinia.29
	}
}
shared_focus = {
	id = ABY_nationalize_bank_of_abyssinia
	icon = GFX_goal_government_icon
	x = 2
	y = 1
	cost = 5
	ai_will_do = {
		factor = 40
	}
	available = {
		has_completed_focus = ABY_assess_situation
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_nationalize_bank_of_abyssinia"
		add_ideas = ABY_centralized_banking
		set_variable = { ABY_bank_year = global.year }
		increase_society_development_gradual = yes
	}
}
shared_focus = {
	id = ABY_abandon_gold_standard
	icon = GFX_goal_gold
	x = -1
	y = 1
	relative_position_id = ABY_nationalize_bank_of_abyssinia
	cost = 5
	prerequisite = { focus = ABY_nationalize_bank_of_abyssinia }
	ai_will_do = {
		factor = 40
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_abandon_gold_standard"
		country_event = abyssinia.30
	}
}
shared_focus = {
	id = ABY_seek_trade_partners
	icon = GFX_tradegoods
	x = 1
	y = 1
	relative_position_id = ABY_nationalize_bank_of_abyssinia
	cost = 5
	prerequisite = { focus = ABY_nationalize_bank_of_abyssinia }
	ai_will_do = {
		factor = 40
	}
	available = {
		NOT = {
			has_idea = closed_economy
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		HIP = {
			OR = {
				exists = no
				has_war_with = ROOT
				has_government = communism
			}
		}
		ASS = {
			OR = {
				exists = no
				has_war_with = ROOT
				has_government = communism
			}
		}
		ANS = {
			OR = {
				exists = no
				has_war_with = ROOT
				has_government = communism
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_seek_trade_partners"
		if = {
			limit = {
				HIP = {
					exists = yes
					NOT = {
						has_war_with = ROOT
						has_government = communism
						has_idea = closed_economy
						is_embargoed_by = HIP
						is_embargoing = HIP
					}
				}
			}
			HIP = {
				country_event = abyssinia.31
			}
		}
		if = {
			limit = {
				ASS = {
					exists = yes
					NOT = {
						has_war_with = ROOT
						has_government = communism
						has_idea = closed_economy
						is_embargoed_by = ASS
						is_embargoing = ASS
					}
				}
			}
			ASS = {
				country_event = abyssinia.31
			}
		}
		if = {
			limit = {
				ANS = {
					exists = yes
					NOT = {
						has_war_with = ROOT
						has_government = communism
						has_idea = closed_economy
						is_embargoed_by = ANS
						is_embargoing = ANS
					}
				}
			}
			ANS = {
				country_event = abyssinia.31
			}
		}
		hidden_effect = {
			country_event = { id = abyssinia.32 days = 7 }
		}
	}
}
shared_focus = {
	id = ABY_public_works_projects
	icon = GFX_infrastructure_road
	x = 1
	y = 1
	relative_position_id = ABY_abandon_gold_standard
	cost = 5
	prerequisite = { focus = ABY_abandon_gold_standard }
	prerequisite = { focus = ABY_seek_trade_partners }
	ai_will_do = {
		factor = 40
	}
	available = {
		has_war = no
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_public_works_projects"
		every_owned_state = {
			limit = { 
				is_core_of = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
					is_demilitarized_zone = yes
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		decrease_poverty = yes
	}
}
shared_focus = {
	id = ABY_royal_reconstruction_program
	icon = GFX_goal_generic_lau_construction
	x = 0
	y = 1
	relative_position_id = ABY_public_works_projects
	cost = 5
	prerequisite = { focus = ABY_public_works_projects }
	ai_will_do = {
		factor = 40
	}
	available = {
		has_war = no
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_royal_reconstruction_program"
		remove_ideas = zebrica_legacy_of_storm1
	}
}

shared_focus = {
	id = ABY_expand_fishing_fleet
	icon = GFX_goal_dockyard_generic_psody
	x = 6
	y = 1
	cost = 5
	ai_will_do = {
		factor = 40
	}
	available = {
		has_completed_focus = ABY_abandon_gold_standard
		780 = { 
			is_owned_and_controlled_by = ROOT 
			NOT = {
				has_dynamic_modifier = {
					modifier = ABY_slave_controlled_state
				}
			}
		}
		776 = { 
			is_owned_and_controlled_by = ROOT 
			NOT = {
				has_dynamic_modifier = {
					modifier = ABY_slave_controlled_state
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_expand_fishing_fleet"
		780 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		776 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		set_country_flag = ABY_famine_reduction_1
		custom_effect_tooltip = ABY_help_food_situation
	}
}
shared_focus = {
	id = ABY_import_food
	icon = GFX_tradegoods
	x = -1
	y = 1
	relative_position_id = ABY_expand_fishing_fleet
	cost = 5
	prerequisite = { focus = ABY_expand_fishing_fleet }
	ai_will_do = {
		factor = 40
	}
	available = {
		has_completed_focus = ABY_seek_trade_partners
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		NOT = {
			has_idea = ABY_HIP_trade_deal
			has_idea = ABY_wingbardian_concessions
		}
		hidden_trigger = {
			KLG = {
				OR = {
					exists = no
					has_war_with = ROOT
					has_idea = closed_economy
					is_embargoed_by = ABY
					is_embargoing = ABY
					NOT = {
						has_government = neutrality
					}
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_import_food"
		if = {
			limit = {
				has_idea = ABY_HIP_trade_deal
			}
			add_ideas = ABY_HIP_food_imports
			if = {
				limit = {
					HIP = {
						has_government = democratic
					}
				}
				add_power_balance_value = {
					id = ABY_neutral_harmony
					value = 0.1
				}
			}
		}
		else_if = {
			limit = {
				has_idea = ABY_wingbardian_concessions
			}
			add_ideas = ABY_WNG_food_imports
		}
		else = {
			country_event = abyssinia.36
			KLG = {
				country_event = abyssinia.36
			}
		}
		#set_country_flag = ABY_famine_reduction_2
		#check for ideas instead
		custom_effect_tooltip = ABY_help_food_situation
	}
}
shared_focus = {
	id = ABY_distribute_food
	icon = GFX_goal_agricultural_aid
	x = 1
	y = 1
	relative_position_id = ABY_expand_fishing_fleet
	cost = 5
	prerequisite = { focus = ABY_expand_fishing_fleet }
	ai_will_do = {
		factor = 40
	}
	available = {
		
	}
	bypass = {
		
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_distribute_food"
		decrease_poverty = yes
		set_country_flag = ABY_famine_reduction_3
		custom_effect_tooltip = ABY_help_food_situation
	}
}
shared_focus = {
	id = ABY_repurpose_plantations
	icon = GFX_goal_coffee_boom
	x = 1
	y = 1
	relative_position_id = ABY_import_food
	cost = 6
	prerequisite = { focus = ABY_import_food }
	prerequisite = { focus = ABY_distribute_food }
	ai_will_do = {
		factor = 5
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_repurpose_plantations"
		set_country_flag = ABY_food_problem_solved
		if = {
			limit = {
				has_idea = ABY_risk_of_famine
			}
			remove_ideas = ABY_risk_of_famine
		}
		else_if = {
			limit = {
				has_idea = ABY_mild_famine
			}
			remove_ideas = ABY_mild_famine
		}
		else_if = {
			limit = {
				has_idea = ABY_famine
			}
			remove_ideas = ABY_famine
		}
		else_if = {
			limit = {
				has_idea = ABY_apocalyptic_famine
			}
			remove_ideas = ABY_apocalyptic_famine
		}
		if = {
			limit = {
				has_idea = ABY_HIP_trade_deal
			}
			remove_ideas = ABY_HIP_trade_deal
			HIP = {
				remove_ideas = ABY_trade_deal
			}
		}
		else_if = {
			limit = {
				has_idea = ABY_ASS_trade_deal
			}
			remove_ideas = ABY_ASS_trade_deal
			ASS = {
				remove_ideas = ABY_trade_deal
			}
		}
		else_if = {
			limit = {
				has_idea = ABY_ANS_trade_deal
			}
			remove_ideas = ABY_ANS_trade_deal
			ANS = {
				remove_ideas = ABY_trade_deal
			}
		}
		ABY_tardar_disloyal = yes
		ABY_nyanyanyanyanyanyanya_disloyal = yes
		ABY_timothy_disloyal = yes
		ABY_thurston_disloyal = yes
		ABY_cat_in_the_hat_disloyal = yes
		ABY_smudge_disloyal = yes
		ABY_humbert_disloyal = yes
		ABY_update_number_of_loyal_disloyal = yes
	}
}

shared_focus = {
	id = ABY_pacify_slaves_focus
	icon = GFX_goal_generic_slavery_pony
	x = 12
	y = 1
	cost = 5
	ai_will_do = {
		factor = 40
	}
	available = {
		has_completed_focus = ABY_assess_situation
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_pacify_slaves_focus"
		set_country_flag = ABY_unlock_slave_pacification
		custom_effect_tooltip = ABY_unlock_slave_decisions
	}
}
shared_focus = {
	id = ABY_ban_slave_bulli
	icon = GFX_goal_generic_defence
	x = -2
	y = 1
	relative_position_id = ABY_pacify_slaves
	cost = 5
	prerequisite = { focus = ABY_pacify_slaves }
	ai_will_do = {
		factor = 20
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_ban_slave_bulli"
		ABY_calm_slaves = yes
		ABY_tardar_disloyal = yes
		ABY_lucifer_disloyal = yes
		ABY_sylvester_disloyal = yes
		ABY_tom_disloyal = yes
		ABY_update_number_of_loyal_disloyal = yes
		every_owned_state = {
			limit = {
				is_core_of = MDL
				NOT = {
					is_core_of = ROOT
				}
			}
			add_compliance = 2.5
		}
		if = {
			limit = {
				has_power_balance = {
					id = ABY_neutral_harmony
				}
			}
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.05
			}
		}
	}
}
shared_focus = {
	id = ABY_ban_slave_trade
	icon = GFX_viira_griffon_slave
	x = 0
	y = 1
	relative_position_id = ABY_pacify_slaves
	cost = 5
	prerequisite = { focus = ABY_pacify_slaves }
	ai_will_do = {
		factor = 20
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_ban_slave_trade"
		ABY_calm_slaves = yes
		ABY_bingus_disloyal = yes
		ABY_salem_disloyal = yes
		ABY_update_number_of_loyal_disloyal = yes
		every_owned_state = {
			limit = {
				is_core_of = MDL
				NOT = {
					is_core_of = ROOT
				}
			}
			add_compliance = 2.5
		}
		if = {
			limit = {
				has_power_balance = {
					id = ABY_neutral_harmony
				}
			}
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.05
			}
		}
	}
}
shared_focus = {
	id = ABY_ban_slave_baby
	icon = GFX_goal_CTH_no_one_is_truly_innocent
	x = 2
	y = 1
	relative_position_id = ABY_pacify_slaves
	cost = 5
	prerequisite = { focus = ABY_pacify_slaves }
	ai_will_do = {
		factor = 20
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_ban_slave_baby"
		ABY_calm_slaves = yes
		ABY_cat_in_the_hat_disloyal = yes
		ABY_cheshire_disloyal = yes
		ABY_update_number_of_loyal_disloyal = yes
		every_owned_state = {
			limit = {
				is_core_of = MDL
				NOT = {
					is_core_of = ROOT
				}
			}
			add_compliance = 2.5
		}
		if = {
			limit = {
				has_power_balance = {
					id = ABY_neutral_harmony
				}
			}
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.05
			}
		}
	}
}
shared_focus = {
	id = ABY_emancipation_act
	icon = GFX_goal_generic_liberty_statue
	x = 0
	y = 1
	relative_position_id = ABY_ban_slave_trade
	cost = 5
	prerequisite = { focus = ABY_ban_slave_bulli }
	prerequisite = { focus = ABY_ban_slave_trade }
	prerequisite = { focus = ABY_ban_slave_baby }
	ai_will_do = {
		factor = 40
	}
	available = {
		NOT = {
			has_country_flag = ABY_gomez_absent
		}
	}
	bypass = {
		
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus ABY_emancipation_act"
		swap_ideas = {
			remove_idea = slavery_economy
			add_idea = civilian_economy
		}
		add_stability = -0.2
		ABY_tardar_disloyal = yes
		ABY_lucifer_disloyal = yes
		ABY_sylvester_disloyal = yes
		ABY_tom_disloyal = yes
		ABY_gumball_disloyal = yes
		ABY_bingus_disloyal = yes
		ABY_update_number_of_loyal_disloyal = yes
		every_owned_state = {
			limit = {
				is_core_of = MDL
				NOT = {
					is_core_of = ROOT
				}
			}
			add_compliance = 5
		}
		if = {
			limit = {
				has_power_balance = {
					id = ABY_neutral_harmony
				}
			}
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.05
			}
		}
	}
}

#Unlock this somewhere
#bicycle_infantry = 1