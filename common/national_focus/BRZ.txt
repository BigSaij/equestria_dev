# In the rework, all focuses will be in one document. We will only use shared focuses, to make moving and redesigning trees easier

# Focus filters to use (note: focus filters should also be used for maluses. Minor effects for flavour purposes should not be marked): 
# FOCUS_FILTER_INTERNAL_AFFAIRS - story events
# FOCUS_FILTER_INDUSTRY - industry (factories, output bonuses)
# FOCUS_FILTER_POLITICAL - political power
# FOCUS_FILTER_STABILITY - stability
# FOCUS_FILTER_WAR_SUPPORT - war support
# FOCUS_FILTER_ARMY_BONUS - anything that adds to the army
# FOCUS_FILTER_AIRFORCE_BONUS - anything that adds to the airforce
# FOCUS_FILTER_NAVY_BONUS - anything that adds to the navy
# FOCUS_FILTER_MANPOWER - ponypower
# FOCUS_FILTER_RESEARCH - research slots, research speed bonuses, one-time bonuses for specific research
# FOCUS_FILTER_ANNEXATION - any wargoals/wars
# Please add appropriate filters when creating a focus. Do not add any additional filters, it will break the UI. If in doubt, ping me in Project Heartlands. Thank you! - HerrB

# To make future understanding of the code easier, when referencing a state id, please comment the state name for clarity. Thank you! - HerrB

# Initial tree for Bronzehill, containing the starting industrial, military and policial trees. The focus tree will get expanded once the regency is declared
focus_tree = {
	id = bronzehill_initial_tree
	
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = BRZ
			NOT = { has_country_flag = BRZ_revenge_tree_loaded }
		}
	}
	
	shared_focus = BRZ_finish_the_grover_v_industrial_park
	shared_focus = BRZ_military_budget_review
	shared_focus = BRZ_call_the_bronzehill_council
}

###########################
# Industrial Tree Section #
###########################

# Initial Industrial Tree
shared_focus = {
	id = BRZ_finish_the_grover_v_industrial_park
	icon = GFX_goal_generic_construct_civ_factory
	
	x = 5
	y = 0
	
	cost = 4
	
	ai_will_do = { factor = 10 }
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_finish_the_grover_v_industrial_park"#Auto-logging
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		424 = { # Ravensburg
			add_extra_state_shared_building_slots = 2
		}
		
		country_event = bronzehill_industrial.1
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_paving_the_roads
	icon = GFX_infrastructure_road
	
	x = -1
	y = 1
	relative_position_id = BRZ_finish_the_grover_v_industrial_park
	
	cost = 3
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_finish_the_grover_v_industrial_park
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_paving_the_roads"#Auto-logging
		
		424 = { # Ravensburg
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_invite_griffenheim_engineers
	icon = GFX_focus_generic_modernize_industry	
	
	x = 1
	y = 1
	relative_position_id = BRZ_finish_the_grover_v_industrial_park
	
	cost = 3
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_finish_the_grover_v_industrial_park
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_invite_griffenheim_engineers"#Auto-logging
		
		add_tech_bonus = {
			name = BRZ_invite_griffenheim_engineers
			bonus = 1.0
			uses = 2
			category = industry
		}
	}
	
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = BRZ_contracts_with_the_businessgriffs
	icon = GFX_goal_endless_money
	
	x = 1
	y = 1
	relative_position_id = BRZ_paving_the_roads
	
	cost = 4
	
	ai_will_do = { factor = 10 }
	
	
	prerequisite = {
		focus = BRZ_paving_the_roads
	}
	prerequisite = {
		focus = BRZ_invite_griffenheim_engineers
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_contracts_with_the_businessgriffs"#Auto-logging
		
		swap_ideas = {
			remove_idea = BRZ_imperial_industry
			add_idea = BRZ_imperial_industry_2
		}
		
		country_event = bronzehill_industrial.2
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS }
}

# Main industrial branch / Autonomist side
shared_focus = {
	id = BRZ_nationalize_the_grover_v_industrial_park
	icon = GFX_goal_treaty_fails
	
	x = -3
	y = 1
	relative_position_id = BRZ_contracts_with_the_businessgriffs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_contracts_with_the_businessgriffs
	}
	
	mutually_exclusive = {
		focus = BRZ_negotiations_with_kraehe_stahl
	}
	
	available = {
		has_completed_focus = BRZ_a_change_of_course
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_nationalize_the_grover_v_industrial_park"#Auto-logging
		
		# Punishment for nationalizing major industry
		add_political_power = -50
		add_stability = -0.05
		add_popularity = {
			ideology = neutrality
			popularity = -0.1
		}
		
		# We do it this way so that the player always get shown a helpful tooltip
		# In theory, by this focus the player should always have BRZ_imperial_industry_2 
		if = {
			limit = {
				has_idea = BRZ_imperial_industry
			}
			remove_ideas = BRZ_imperial_industry
		} 
		if = {
			limit = {
				has_idea = BRZ_imperial_industry_2
			}
			remove_ideas = BRZ_imperial_industry_2
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_increase_domestic_food_production
	icon = GFX_goal_treaty_fails
	
	x = -1
	y = 1
	relative_position_id = BRZ_nationalize_the_grover_v_industrial_park
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_nationalize_the_grover_v_industrial_park
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_nationalize_the_grover_v_industrial_park"#Auto-logging
		
		add_stability = 0.1
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

# Main industrial branch / Loyalty side
shared_focus = {
	id = BRZ_negotiations_with_kraehe_stahl
	icon = GFX_focus_generic_treaty
	
	x = 3
	y = 1
	relative_position_id = BRZ_contracts_with_the_businessgriffs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_contracts_with_the_businessgriffs
	}
	
	mutually_exclusive = {
		focus = BRZ_nationalize_the_grover_v_industrial_park
	}
	
	available = {
		has_completed_focus = BRZ_old_loyalties
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_negotiations_with_kraehe_stahl"#Auto-logging
		
		# TODO
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

############################
# Initial(?) Military Tree #
############################
shared_focus = {
	id = BRZ_military_budget_review
	icon = GFX_BRZ_county_of_bronzehill
	
	x = 15
	y = 0
	
	cost = 5
	
	ai_will_do = { factor = 10 }
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_military_budget_review"#Auto-logging
		
		# TEMP
		army_experience = 30
	}
	
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

##########################
# Initial Political Tree #
##########################

# Political introduction
shared_focus = {
	id = BRZ_call_the_bronzehill_council
	icon = GFX_BRZ_county_of_bronzehill
	
	x = 30
	y = 0
	
	cost = 3
	
	ai_will_do = { factor = 10 }
	
	available = {
		has_country_flag = BRZ_grover_v_dead
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_call_the_bronzehill_council"#Auto-logging
		
		add_political_power = 25
		
		country_event = bronzehill_politicalintroduction.1 # Council Intro
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_tea_with_copperhill
	icon = GFX_goal_ideology_social_conservative
	
	x = -2
	y = 1
	relative_position_id = BRZ_call_the_bronzehill_council
	
	cost = 2
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_call_the_bronzehill_council
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_tea_with_copperhill"#Auto-logging
		
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		
		country_event = bronzehill_politicalintroduction.2 # Copperhill Intro
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_an_unusual_guest
	icon = GFX_goal_ideology_democratic_socialist
	
	x = 0
	y = 1
	relative_position_id = BRZ_call_the_bronzehill_council
	
	cost = 2
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_call_the_bronzehill_council
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_an_unusual_guest"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = 0.025
		}
		
		country_event = bronzehill_politicalintroduction.3 # Luxembark Intro
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_word_with_loudbark
	icon = GFX_goal_ideology_authoritarian_democrat
	
	x = 2
	y = 1
	relative_position_id = BRZ_call_the_bronzehill_council
	
	cost = 2
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_call_the_bronzehill_council
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_word_with_loudbark"#Auto-logging
		
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		
		country_event = bronzehill_politicalintroduction.4 # Loudbark Intro
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_up_in_the_hills
	icon = GFX_goal_ideology_totalist
	
	x = 1
	y = 1
	relative_position_id = BRZ_tea_with_copperhill
	
	cost = 2
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_tea_with_copperhill
	}
	prerequisite = {
		focus = BRZ_an_unusual_guest
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_up_in_the_hills"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = 0.025
		}
		
		country_event = bronzehill_politicalintroduction.5 # Barking-Sun intro
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_meeting_in_ravensburg
	icon = GFX_goal_generic_archonism
	
	x = 1
	y = 1
	relative_position_id = BRZ_an_unusual_guest
	
	cost = 2
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_an_unusual_guest
	}
	prerequisite = {
		focus = BRZ_word_with_loudbark
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_tea_with_copperhill"#Auto-logging
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		
		country_event = bronzehill_politicalintroduction.6 # Ignatius and Gunhild
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_barnabys_ideas
	icon = GFX_goal_ideology_social_liberal
	
	x = 1
	y = 1
	relative_position_id = BRZ_up_in_the_hills
	
	cost = 2
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_up_in_the_hills
	}
	prerequisite = {
		focus = BRZ_meeting_in_ravensburg
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_barnabys_ideas"#Auto-logging
				
		country_event = bronzehill_politicalintroduction.7 # Luxembark in the Council?
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_the_councils_opens
	icon = GFX_goal_government_icon
	
	x = 0
	y = 1
	relative_position_id = BRZ_barnabys_ideas
	
	cost = 3
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_barnabys_ideas
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_councils_opens"#Auto-logging
		
		add_political_power = 25
		
		country_event = bronzehill_politicalintroduction.9 # Vote for Bronzehill regency (Barnaby's "betrayal")
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_a_change_of_course
	icon = GFX_goal_generic_stable_government
	
	x = 10
	y = 1
	relative_position_id = BRZ_the_councils_opens
	
	allow_branch = {
		NOT = { has_completed_focus = BRZ_old_loyalties }
	}
	offset = {
		x = -10
		trigger = {
			has_completed_focus = BRZ_a_change_of_course
		}
	}
	
	cost = 5
	
	ai_will_do = { factor = 10 }
	
	mutually_exclusive = {
		focus = BRZ_old_loyalties
	}
	
	prerequisite = {
		focus = BRZ_the_councils_opens
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_a_change_of_course"#Auto-logging
		
		country_event = bronzehill_council.1 # Powerstruggle begins
		
		mark_focus_tree_layout_dirty = yes
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_old_loyalties
	icon = GFX_BRZ_count_ignatious_focus
	
	x = -10
	y = 1
	relative_position_id = BRZ_the_councils_opens
	
	allow_branch = {
		NOT = { has_completed_focus = BRZ_a_change_of_course }
	}
	offset = {
		x = 10
		trigger = {
			has_completed_focus = BRZ_old_loyalties
		}
	}
	
	cost = 5
	
	ai_will_do = { factor = 10 }
	
	mutually_exclusive = {
		focus = BRZ_a_change_of_course
	}
	
	prerequisite = {
		focus = BRZ_the_councils_opens
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_old_loyalties"#Auto-logging
		
		add_stability = 0.1
		
		add_ideas = BRZ_disloyal_army
		add_ideas = BRZ_socialist_agitation
		add_ideas = BRZ_hostile_bronzehill_council
		
		mark_focus_tree_layout_dirty = yes
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}

# Loyalist path - Gabriela side

shared_focus = {
	id = BRZ_the_regent_in_exile
	icon = GFX_goal_tripartite_pact
	
	x = -3
	y = 1
	relative_position_id = BRZ_old_loyalties
	
	cost = 5 # Strawberry should declare independece 28 days after Eros was declared regent, so this needs to be 5 (to be sure)
	
	ai_will_do = { factor = 10 }
	
	mutually_exclusive = {
		focus = BRZ_the_rightful_regent
	}
	
	prerequisite = {
		focus = BRZ_old_loyalties
	}
	
	available = {
		GRI = {
			has_completed_focus = GRI_eros
		}
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_regent_in_exile"#Auto-logging
		
		add_political_power = 50
		
		clr_country_flag = herzland_diplomacy_blocked
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_trip_to_readewetter
	icon = GFX_goal_strawberry_duchy
	
	x = 0
	y = 1
	relative_position_id = BRZ_the_regent_in_exile
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_regent_in_exile
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_trip_to_readewetter"#Auto-logging
		
		country_event = bronzehill_loyalist.1 # Pact with Strawberry
		
		hidden_effect = {
			STW = {
				country_event = bronzehill_loyalist.2 # Pact with Strawberry, their perspective
			}
		}
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
}

shared_focus = {
	id = BRZ_work_with_the_hkp
	icon = GFX_goal_ideology_social_liberal
	
	x = -1
	y = 1
	relative_position_id = BRZ_trip_to_readewetter
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_trip_to_readewetter
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_work_with_the_hkp"#Auto-logging
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		
		add_stability = 0.05
		add_political_power = 25
	}
	
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_purge_the_high_command
	icon = GFX_goal_generic_neutrality_focus
	
	x = 1
	y = 1
	relative_position_id = BRZ_trip_to_readewetter
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_trip_to_readewetter
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_purge_the_high_command"#Auto-logging
		
		add_popularity = {
			ideology = fascism
			popularity = -0.15
		}
		
		remove_ideas = BRZ_disloyal_army
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_help_from_the_prelate
	icon = GFX_goal_generic_archonism
	
	x = 1
	y = 1
	relative_position_id = BRZ_work_with_the_hkp
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_work_with_the_hkp
	}
	prerequisite = {
		focus = BRZ_purge_the_high_command
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_help_from_the_prelate"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		
		swap_ideas = {
			remove_idea = BRZ_socialist_agitation
			add_idea = BRZ_lingering_socialist_agitation
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_loyalty_of_the_knights
	icon = GFX_goal_griffon_knights
	
	x = -1
	y = 1
	relative_position_id = BRZ_help_from_the_prelate
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_help_from_the_prelate
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_loyalty_of_the_knights"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		
		remove_ideas = BRZ_lingering_socialist_agitation
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_gather_noble_support
	icon = GFX_goal_bag_of_money
	
	x = 1
	y = 1
	relative_position_id = BRZ_help_from_the_prelate
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_help_from_the_prelate
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_gather_noble_support"#Auto-logging
		
		add_ideas = BRZ_noble_support
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_dismiss_the_council
	icon = GFX_BRZ_county_of_bronzehill
	
	x = 1
	y = 1
	relative_position_id = BRZ_loyalty_of_the_knights
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_loyalty_of_the_knights
	}
	prerequisite = {
		focus = BRZ_gather_noble_support
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_dismiss_the_council"#Auto-logging
		
		remove_ideas = BRZ_hostile_bronzehill_council
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = BRZ_trade_with_strawberry
	icon = GFX_goal_strawberry_Liquor
	
	x = -2
	y = 1
	relative_position_id = BRZ_dismiss_the_council
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_dismiss_the_council
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_trade_with_strawberry"#Auto-logging
		
		two_random_industrial_complex = yes
		
		# one_random_arms_factory = yes # I want it to add an extra building slot, so script manually
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_renegotiate_industrial_contracts
	icon = GFX_goal_generic_takeover_industries
	
	x = 0
	y = 1
	relative_position_id = BRZ_dismiss_the_council
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_dismiss_the_council
	}
	
	available = {
		has_completed_focus = BRZ_negotiations_with_kraehe_stahl
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_renegotiate_industrial_contracts"#Auto-logging
		
		one_random_industrial_complex = yes
		
		add_tech_bonus = {
			name = BRZ_renegotiate_industrial_contracts
			bonus = 1.0
			uses = 1
			category = industry
		}
		
		add_ideas = BRZ_cooperative_businessgriffs
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = BRZ_rebuild_popular_support
	icon = GFX_goal_griffon_harmony
	
	x = 2
	y = 1
	relative_position_id = BRZ_dismiss_the_council
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_dismiss_the_council
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_rebuild_popular_support"#Auto-logging
		
		add_stability = 0.1
		add_political_power = 25
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_shuffle_industrial_shares
	icon = GFX_goal_new_treaty
	
	x = 1
	y = 1
	relative_position_id = BRZ_trade_with_strawberry
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_trade_with_strawberry
	}
	prerequisite = {
		focus = BRZ_renegotiate_industrial_contracts
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_shuffle_industrial_shares"#Auto-logging
		
		swap_ideas = {
			remove_idea = BRZ_cooperative_businessgriffs
			add_idea = BRZ_cooperative_businessgriffs_2
		}
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_in_denfence_of_tradition
	icon = GFX_goal_ideology_social_conservative
	
	x = 1
	y = 1
	relative_position_id = BRZ_renegotiate_industrial_contracts
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_renegotiate_industrial_contracts
	}
	prerequisite = {
		focus = BRZ_rebuild_popular_support
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_in_denfence_of_tradition"#Auto-logging
		
		add_ideas = BRZ_in_defence_of_tradition_idea
	}
	
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_invite_yale_professors
	icon = GFX_focus_research
	
	x = 1
	y = 1
	relative_position_id = BRZ_rebuild_popular_support
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_rebuild_popular_support
		focus = BRZ_most_loyal_and_faithful_dogs
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_invite_yale_professors"#Auto-logging
		
		add_research_slot = 1
	}
	
	search_filters = { FOCUS_FILTER_RESEARCH }
}

# Loyalist path - Griffenheim side

shared_focus = {
	id = BRZ_the_rightful_regent
	icon = GFX_goal_generic_improve_relations
	
	x = 3
	y = 1
	relative_position_id = BRZ_old_loyalties
	
	cost = 5
	
	ai_will_do = { factor = 10 }
	
	mutually_exclusive = {
		focus = BRZ_the_regent_in_exile
	}
	
	prerequisite = {
		focus = BRZ_old_loyalties
	}
	
	available = {
		GRI = {
			OR = {
				has_completed_focus = GRI_eros
				has_completed_focus = GRI_eagleclaw
			}
		}
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_rightful_regent"#Auto-logging
		
		add_political_power = 50
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_envoy_to_griffenheim
	icon = GFX_goal_griffon_harmony_char
	
	x = -1
	y = 1
	relative_position_id = BRZ_the_rightful_regent
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_rightful_regent
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_envoy_to_griffenheim"#Auto-logging
		
		GRI = {
			country_event = bronzehill_loyalist.12
		}
		
		add_political_power = 25
		add_stability = 0.05
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_gather_the_knights
	icon = GFX_goal_griffon_knights
	
	x = 1
	y = 1
	relative_position_id = BRZ_the_rightful_regent
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_rightful_regent
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_gather_the_knights"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		
		swap_ideas = {
			remove_idea = BRZ_socialist_agitation
			add_idea = BRZ_lingering_socialist_agitation
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_unite_the_nobility
	icon = GFX_goal_griffon_chair
	
	x = -1
	y = 1
	relative_position_id = BRZ_envoy_to_griffenheim
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_envoy_to_griffenheim
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_unite_the_nobility"#Auto-logging
		
		add_stability = 0.1
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.1
		}
	}
	
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_clear_military_hierachies
	icon = GFX_focus_generic_anti_fascist_diplomacy
	
	x = 1
	y = 1
	relative_position_id = BRZ_envoy_to_griffenheim
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_envoy_to_griffenheim
	}
	prerequisite = {
		focus = BRZ_gather_the_knights
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_clear_military_hierachies"#Auto-logging
		
		add_popularity = {
			ideology = fascism
			popularity = -0.15
		}
		
		remove_ideas = BRZ_disloyal_army
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_outlaw_the_SPB
	icon = GFX_goal_authoritarian
	
	x = 1
	y = 1
	relative_position_id = BRZ_gather_the_knights
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_gather_the_knights
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_outlaw_the_SPB"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.10
		}
		
		remove_ideas = BRZ_lingering_socialist_agitation
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_spread_loyalist_messages
	icon = GFX_goal_generic_propaganda
	
	x = 1
	y = 1
	relative_position_id = BRZ_unite_the_nobility
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_unite_the_nobility
	}
	prerequisite = {
		focus = BRZ_clear_military_hierachies
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_spread_loyalist_messages"#Auto-logging
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.1
		}
		
		add_political_power = 25
		add_stability = 0.05
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_invite_advisors_from_griffenheim
	icon = GFX_goal_griffon_soldier
	
	x = 1
	y = 1
	relative_position_id = BRZ_clear_military_hierachies
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_clear_military_hierachies
	}
	prerequisite = {
		focus = BRZ_outlaw_the_SPB
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_invite_advisors_from_griffenheim"#Auto-logging
		
		add_ideas = BRZ_griffon_advisors
		
		one_random_industrial_complex = yes
		
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_dismiss_the_council_loyalist
	icon = GFX_goal_generic_government_deals
	
	x = 1
	y = 1
	relative_position_id = BRZ_spread_loyalist_messages
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_spread_loyalist_messages
	}
	prerequisite = {
		focus = BRZ_invite_advisors_from_griffenheim
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_dismiss_the_council_loyalist"#Auto-logging
		
		remove_ideas = BRZ_hostile_bronzehill_council
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_a_true_show_of_unity
	icon = GFX_goal_generic_national_unity_claws
	
	x = 0
	y = 1
	relative_position_id = BRZ_dismiss_the_council_loyalist
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_dismiss_the_council_loyalist
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_a_true_show_of_unity"#Auto-logging
		
		add_war_support = 0.1
		add_stability = 0.1
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_most_loyal_and_faithful_dogs
	icon = GFX_focus_generic_home_defense
	
	x = -1
	y = 1
	relative_position_id = BRZ_a_true_show_of_unity
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_a_true_show_of_unity
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_most_loyal_and_faithful_dogs"#Auto-logging
		
		add_ideas = BRZ_most_loyal_and_faithful_dogs_idea
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_reinvigorate_trade_with_griffenheim
	icon = GFX_goal_generic_construct_civ_factory
	
	x = 1
	y = 1
	relative_position_id = BRZ_a_true_show_of_unity
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_a_true_show_of_unity
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_reinvigorate_trade_with_griffenheim"#Auto-logging
		
		two_random_industrial_complex = yes
		one_random_arms_factory = yes
		
		add_ideas = BRZ_cooperative_businessgriffs
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_the_grover_v_memorial_park
	icon = GFX_goal_GRI_grover_v_death
	
	x = 1
	y = 1
	relative_position_id = BRZ_most_loyal_and_faithful_dogs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_most_loyal_and_faithful_dogs
	}
	prerequisite = {
		focus = BRZ_reinvigorate_trade_with_griffenheim
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_grover_v_memorial_park"#Auto-logging
		
		# Story event to add
		
		add_ideas = BRZ_grover_v_memorial_park
	}
	
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_the_forge_of_the_empire
	icon = GFX_focus_generic_steel
	
	x = 1
	y = 1
	relative_position_id = BRZ_reinvigorate_trade_with_griffenheim
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_reinvigorate_trade_with_griffenheim
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_forge_of_the_empire"#Auto-logging
		
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
		
		539 = { # Crownspike
			add_resource = {
				type = steel
				amount = 10
			}
		}
		
		swap_ideas = {
			remove_idea = BRZ_cooperative_businessgriffs
			add_idea = BRZ_cooperative_businessgriffs_3
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

# Council path - Barking-Sun

shared_focus = {
	id = BRZ_barking_suns_coup
	icon = GFX_focus_generic_join_comintern
	
	x = -9
	y = 1
	relative_position_id = BRZ_a_change_of_course
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_a_change_of_course
	}
	
	available = {
		NOT = { has_country_flag = BRZ_luxembark_in_the_council }
		has_government = communism
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_barking_suns_coup"#Auto-logging
		
		add_stability = 0.15
		
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		
		clr_country_flag = herzland_diplomacy_blocked
	}
	
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_secure_the_army
	icon = GFX_goal_generic_drafted_army
	
	x = 0
	y = 1
	relative_position_id = BRZ_barking_suns_coup
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_barking_suns_coup
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_secure_the_army"#Auto-logging
		
		remove_ideas = BRZ_disloyal_army
		
		add_manpower = -500
		army_experience = -20
		
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
		add_popularity = {
			ideology = neutrality
			popularity = -0.05
		}
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_target_the_national_union
	icon = GFX_focus_generic_anti_fascist_diplomacy
	
	x = -1
	y = 1
	relative_position_id = BRZ_secure_the_army
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_secure_the_army
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_target_the_national_union"#Auto-logging
		
		add_stability = 0.1
		add_war_support = 0.05
		
		add_popularity = {
			ideology = fascism
			popularity = -0.15
		}
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_disband_the_hkp
	icon = GFX_goal_strike_harmony
	
	x = 0
	y = 1
	relative_position_id = BRZ_target_the_national_union
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_target_the_national_union
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_disband_the_hkp"#Auto-logging
		
		remove_ideas = BRZ_unrest_in_academia
		
		add_popularity = {
			ideology = democratic
			popularity = -0.15
		}
	}
	
	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_purge_the_nobles
	icon = GFX_goal_purge_opposition
	
	x = 1
	y = 1
	relative_position_id = BRZ_secure_the_army
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_secure_the_army
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_purge_the_nobles"#Auto-logging
		
		remove_ideas = BRZ_unruly_nobility
		
		add_popularity = {
			ideology = neutrality
			popularity = -0.15
		}
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_hunt_the_count
	icon = GFX_BRZ_count_ignatious_focus
	
	x = 0
	y = 1
	relative_position_id = BRZ_purge_the_nobles
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_purge_the_nobles
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_hunt_the_count"#Auto-logging
		
		add_political_power = 25
		
		add_stability = 0.05
		
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		
		# TODO: Ignatius flees to Griffenheim
		
		add_country_leader_role = { # Barnaby becomes underground leader of the non-aligned
			character = BRZ_barnaby_bronzetail
			country_leader = {
				desc = BRZ_BARNABY_DESC
				expire = "1965.1.1"
				ideology = centrism
				traits = { young_count }
			}
			promote_leader = yes
		}
		
		set_party_name = {
			ideology = neutrality
			name = BRZ_neutrality_party_barnaby
			long_name = BRZ_neutrality_party_barnaby_long
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_mobilize_the_economy
	icon = GFX_goal_generic_construct_civ_factory
	
	x = 1
	y = 1
	relative_position_id = BRZ_disband_the_hkp
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_disband_the_hkp
	}
	prerequisite = {
		focus = BRZ_hunt_the_count
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_mobilize_the_economy"#Auto-logging
		
		two_random_industrial_complex = yes
		
		one_random_arms_factory = yes
		
		add_ideas = BRZ_mobilized_economy
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_liberation_corps
	icon = GFX_goal_griffon_levy
	
	x = 1
	y = 1
	relative_position_id = BRZ_hunt_the_count
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_disband_the_hkp
	}
	prerequisite = {
		focus = BRZ_hunt_the_count
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_liberation_corps"#Auto-logging
		
		division_template = {
			name = "Befreiungskorps"
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
		}
		
		capital_scope = {
			create_unit = {
				division = "name = \"1. Befreiungskorps\" division_template = \"Befreiungskorps\" start_experience_factor = 0"
				owner = BRZ
			}
			create_unit = {
				division = "name = \"2. Befreiungskorps\" division_template = \"Befreiungskorps\" start_experience_factor = 0"
				owner = BRZ
			}
			create_unit = {
				division = "name = \"3. Befreiungskorps\" division_template = \"Befreiungskorps\" start_experience_factor = 0"
				owner = BRZ
			}
			create_unit = {
				division = "name = \"4. Befreiungskorps\" division_template = \"Befreiungskorps\" start_experience_factor = 0"
				owner = BRZ
			}
		}
	}
	
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_principle_of_total_dedication
	icon = GFX_goal_military_mission_soldier
	
	x = 1
	y = 1
	relative_position_id = BRZ_mobilize_the_economy
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_mobilize_the_economy
	}
	prerequisite = {
		focus = BRZ_liberation_corps
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_principle_of_total_dedication"#Auto-logging
		
		add_ideas = BRZ_principle_of_total_dedication_idea
	}
	
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = BRZ_industrial_independence
	icon = GFX_goal_socialist_industry
	
	x = -1
	y = 1
	relative_position_id = BRZ_mobilize_the_economy
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_mobilize_the_economy
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_industrial_independence"#Auto-logging
		
		swap_ideas = {
			remove_idea = BRZ_mobilized_economy
			add_idea = BRZ_mobilized_economy_2
		}
		
		one_random_arms_factory = yes
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_new_academia
	icon = GFX_focus_NORDIC_com_research
	
	x = -1
	y = 1
	relative_position_id = BRZ_disband_the_hkp
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_disband_the_hkp
	}
	prerequisite = {
		focus = BRZ_hunt_the_count
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_new_academia"#Auto-logging
		
		add_research_slot = 1
	}
	
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = BRZ_barking_suns_philosophy
	icon = GFX_goal_cry_book
	
	x = -1
	y = 1
	relative_position_id = BRZ_new_academia
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_new_academia
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_barking_suns_philosophy"#Auto-logging
		
		add_ideas = BRZ_barking_suns_philosophy_idea
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
}

# Council path - Luxembark

shared_focus = {
	id = BRZ_the_outsider_candidate
	icon = GFX_goal_BRZ_spoticus_league
	
	x = -3
	y = 1
	relative_position_id = BRZ_a_change_of_course
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_a_change_of_course
	}
	
	available = {
		has_country_flag = BRZ_luxembark_in_the_council
		has_government = communism
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_outsider_candidate"#Auto-logging
		
		add_stability = 0.1
		add_political_power = 50
		
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		
		clr_country_flag = herzland_diplomacy_blocked
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_government_for_the_workingdogs
	icon = GFX_goal_GRF_commies_win
	
	x = -1
	y = 1
	relative_position_id = BRZ_the_outsider_candidate
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_outsider_candidate
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_government_for_the_workingdogs"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		
		add_stability = 0.05
		
		add_ideas = BRZ_socialist_government
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_curtail_the_nobles
	icon = GFX_goal_crush_monarchy
	
	x = 0
	y = 1
	relative_position_id = BRZ_government_for_the_workingdogs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_government_for_the_workingdogs
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_curtail_the_nobles"#Auto-logging
		
		add_popularity = {
			ideology = neutrality
			popularity = -0.15
		}
		
		remove_ideas = BRZ_unruly_nobility
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_reverse_the_socialist_laws
	icon = GFX_goal_generic_forceful_treaty
	
	x = 1
	y = 1
	relative_position_id = BRZ_the_outsider_candidate
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_outsider_candidate
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_reverse_the_socialist_laws"#Auto-logging
		
		add_political_power = 50
		add_stability = 0.05
		
		add_popularity = {
			ideology = neutrality
			popularity = -0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_purge_the_national_union
	icon = GFX_focus_generic_anti_fascist_diplomacy
	
	x = 0
	y = 1
	relative_position_id = BRZ_reverse_the_socialist_laws
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_reverse_the_socialist_laws
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_purge_the_national_union"#Auto-logging
		
		add_popularity = {
			ideology = fascism
			popularity = -0.15
		}
		
		remove_ideas = BRZ_disloyal_army
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_replace_the_count
	icon = GFX_BRZ_count_ignatious_focus
	
	x = 1
	y = 1
	relative_position_id = BRZ_curtail_the_nobles
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_curtail_the_nobles
	}
	prerequisite = {
		focus = BRZ_purge_the_national_union
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_replace_the_count"#Auto-logging
		
		add_popularity = {
			ideology = neutrality
			popularity = -0.10
		}
		
		remove_ideas = BRZ_hostile_ignatius
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = BRZ_introduce_worker_councils
	icon = GFX_goal_HOL_council_communism
	
	x = -1
	y = 1
	relative_position_id = BRZ_replace_the_count
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_replace_the_count
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_introduce_worker_councils"#Auto-logging
		
		swap_ideas = {
			remove_idea = BRZ_socialist_government
			add_idea = BRZ_worker_councils
		}
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_expropriate_the_oligarchs
	icon = GFX_goal_generic_construct_civ_factory
	
	x = 1
	y = 1
	relative_position_id = BRZ_replace_the_count
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_replace_the_count
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_expropriate_the_oligarchs"#Auto-logging
		
		two_random_industrial_complex = yes
		one_random_arms_factory = yes
		
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_march_of_the_working_dog
	icon = GFX_goal_Workers_of_Griffonia
	
	x = 1
	y = 1
	relative_position_id = BRZ_introduce_worker_councils
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_introduce_worker_councils
	}
	prerequisite = {
		focus = BRZ_expropriate_the_oligarchs
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_march_of_the_working_dog"#Auto-logging
		
		add_ideas = BRZ_march_of_the_working_dog_idea
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_sway_the_peasantry
	icon = GFX_goal_griffon_agriculture	
	
	x = -1
	y = 1
	relative_position_id = BRZ_introduce_worker_councils
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_introduce_worker_councils
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_sway_the_peasantry"#Auto-logging
		
		one_random_industrial_complex = yes
		
		add_ideas = BRZ_agrarian_support
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = BRZ_worker_self_organization
	icon = GFX_goal_ideology_democratic_socialist
	
	x = 1
	y = 1
	relative_position_id = BRZ_expropriate_the_oligarchs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_expropriate_the_oligarchs
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_worker_self_organization"#Auto-logging
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
		
		add_ideas = BRZ_worker_self_organization
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = { # Both Luxembark and Barnaby
	id = BRZ_expand_bronzekreuz_university
	icon = GFX_focus_research
	
	x = 3
	y = 1
	relative_position_id = BRZ_replace_the_count
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_replace_the_count
		focus = BRZ_undermine_the_national_union
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_expand_bronzekreuz_university"#Auto-logging
		
		add_research_slot = 1
	}
	
	search_filters = { FOCUS_FILTER_RESEARCH }
}

# Council path - Barnaby

shared_focus = {
	id = BRZ_give_power_to_barnaby
	icon = GFX_goal_griffon_harmony
	
	x = 3
	y = 1
	relative_position_id = BRZ_a_change_of_course
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_a_change_of_course
	}
	
	available = {
		has_government = democratic
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_give_power_to_barnaby"#Auto-logging
		
		add_stability = 0.1
		add_political_power = 50
		
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		
		add_country_leader_role = { # Barnaby becomes leader of the democratic party, aka the new count
			character = BRZ_barnaby_bronzetail
			country_leader = {
				desc = BRZ_BARNABY_DESC
				expire = "1965.1.1"
				ideology = conservatism
				traits = { young_count }
			}
			promote_leader = yes
		}
		
		clr_country_flag = herzland_diplomacy_blocked
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_negotiate_with_the_socialists
	icon = GFX_goal_ideology_social_democrat
	
	x = -1
	y = 1
	relative_position_id = BRZ_give_power_to_barnaby
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_give_power_to_barnaby
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_negotiate_with_the_socialists"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		
		remove_ideas = BRZ_socialist_discontent
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_labour_reform_laws
	icon = GFX_goal_generic_workers_democracy
	
	x = 0
	y = 1
	relative_position_id = BRZ_negotiate_with_the_socialists
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_negotiate_with_the_socialists
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_labour_reform_laws"#Auto-logging
		
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		
		add_political_power = 25
		add_stability = 0.05
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_start_the_reform_agenda
	icon = GFX_goal_government_icon
	
	x = 1
	y = 1
	relative_position_id = BRZ_give_power_to_barnaby
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_give_power_to_barnaby
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_start_the_reform_agenda"#Auto-logging
		
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		
		add_ideas = BRZ_the_copperhill_cabinet
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_sway_the_nobles
	icon = GFX_goal_ideology_social_conservative
	
	x = 0
	y = 1
	relative_position_id = BRZ_start_the_reform_agenda
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_start_the_reform_agenda
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_sway_the_nobles"#Auto-logging
		
		remove_ideas = BRZ_unruly_nobility
		
		add_popularity = {
			ideology = neutrality
			popularity = -0.1
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_undermine_the_national_union
	icon = GFX_goal_griffon_soldier
	
	x = 1
	y = 1
	relative_position_id = BRZ_labour_reform_laws
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_labour_reform_laws
	}
	prerequisite = {
		focus = BRZ_sway_the_nobles
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_undermine_the_national_union"#Auto-logging
		
		remove_ideas = BRZ_disloyal_army
		
		add_popularity = {
			ideology = fascism
			popularity = -0.15
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_deal_with_the_businessgriffs
	icon = GFX_goal_generic_construct_civilian
	
	x = -1
	y = 1
	relative_position_id = BRZ_undermine_the_national_union
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_undermine_the_national_union
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_deal_with_the_businessgriffs"#Auto-logging
		
		two_random_industrial_complex = yes
		one_random_arms_factory = yes
		
		add_ideas = BRZ_locally_owned_industry
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_new_city_council_elections
	icon = GFX_goal_generic_lau_democracy
	
	x = 1
	y = 1
	relative_position_id = BRZ_undermine_the_national_union
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_undermine_the_national_union
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_new_city_council_elections"#Auto-logging
		
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		
		add_ideas = BRZ_democracy_in_city_councils
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_our_cause_for_justice
	icon = GFX_goal_liberty
	
	x = 1
	y = 1
	relative_position_id = BRZ_deal_with_the_businessgriffs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_deal_with_the_businessgriffs
	}
	prerequisite = {
		focus = BRZ_new_city_council_elections
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_our_cause_for_justice"#Auto-logging
				
		add_ideas = BRZ_our_cause_for_justice
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_domestic_investments
	icon = GFX_goal_chn_red_economic_boom
	
	x = -1
	y = 1
	relative_position_id = BRZ_deal_with_the_businessgriffs
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_deal_with_the_businessgriffs
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_domestic_investments"#Auto-logging
		
		one_random_industrial_complex = yes
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
		
		swap_ideas = {
			remove_idea = BRZ_locally_owned_industry
			add_idea = BRZ_locally_owned_industry_2
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_unite_the_reformers
	icon = GFX_goal_ideology_harmonist
	
	x = 1
	y = 1
	relative_position_id = BRZ_new_city_council_elections
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_new_city_council_elections
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_unite_the_reformers"#Auto-logging
		
		swap_ideas = {
			remove_idea = BRZ_democracy_in_city_councils
			add_idea = BRZ_democratic_reforms
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL }
}

# Council path - Loudbark

shared_focus = {
	id = BRZ_the_iron_chancellor
	icon = GFX_focus_ger_return_of_the_kaiser
	
	x = 9
	y = 1
	relative_position_id = BRZ_a_change_of_course
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_a_change_of_course
	}
	
	available = {
		has_government = fascism
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_iron_chancellor"#Auto-logging
		
		add_stability = 0.1
		add_political_power = 50
		
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		
		clr_country_flag = herzland_diplomacy_blocked
	}
	
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_sharpen_the_socialist_laws
	icon = GFX_goal_blacksun_communist
	
	x = -2
	y = 1
	relative_position_id = BRZ_the_iron_chancellor
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_iron_chancellor
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_sharpen_the_socialist_laws"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.1
		}
		
		swap_ideas = {
			remove_idea = BRZ_socialist_agitation
			add_idea = BRZ_lingering_socialist_agitation
		}
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_expand_rural_subsidies
	icon = GFX_focus_AUS_agriculture
	
	x = 0
	y = 1
	relative_position_id = BRZ_the_iron_chancellor
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_iron_chancellor
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_expand_rural_subsidies"#Auto-logging
		
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		
		add_ideas = BRZ_rural_subsidies
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = BRZ_our_city_reforms
	icon = GFX_focus_generic_authoritarian_government
	
	x = 2
	y = 1
	relative_position_id = BRZ_the_iron_chancellor
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_iron_chancellor
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_our_city_reforms"#Auto-logging
		
		add_popularity = {
			ideology = democratic
			popularity = -0.1
		}
		
		add_political_power = 50
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = BRZ_using_the_army
	icon = GFX_goal_generic_army_tank_2
	
	x = 1
	y = 1
	relative_position_id = BRZ_sharpen_the_socialist_laws
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_sharpen_the_socialist_laws
	}
	prerequisite = {
		focus = BRZ_expand_rural_subsidies
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_using_the_army"#Auto-logging
		
		add_popularity = {
			ideology = communism
			popularity = -0.1
		}
		
		remove_ideas = BRZ_lingering_socialist_agitation
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_the_nationalization_act
	icon = GFX_r56_goal_FRA_alliance_with_industrialists
	
	x = 1
	y = 1
	relative_position_id = BRZ_expand_rural_subsidies
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_expand_rural_subsidies
	}
	prerequisite = {
		focus = BRZ_our_city_reforms
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_nationalization_act"#Auto-logging
		
		one_random_arms_factory = yes
		
		add_ideas = BRZ_nationalization_act
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_approach_the_nobles
	icon = GFX_goal_griffon_crown
	
	x = 1
	y = 1
	relative_position_id = BRZ_using_the_army
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_using_the_army
	}
	prerequisite = {
		focus = BRZ_the_nationalization_act
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_approach_the_nobles"#Auto-logging
		
		add_popularity = {
			ideology = neutrality
			popularity = -0.1
		}
		remove_ideas = BRZ_unruly_nobility
	}
	
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_the_military_industrial_complex
	icon = GFX_goal_Focus_Military_Mobilisation
	
	x = 0
	y = 1
	relative_position_id = BRZ_approach_the_nobles
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_approach_the_nobles
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_the_military_industrial_complex"#Auto-logging
		
		one_random_industrial_complex = yes
		one_random_arms_factory = yes
		
		swap_ideas = {
			remove_idea = BRZ_nationalization_act
			add_idea = BRZ_the_military_industrial_complex_idea
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = BRZ_unleash_the_dogs_of_war
	icon = GFX_focus_RAJ_lions_of_the_great_war
	
	x = -1
	y = 1
	relative_position_id = BRZ_the_military_industrial_complex
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_military_industrial_complex
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_unleash_the_dogs_of_war"#Auto-logging
		
		add_ideas = BRZ_the_dogs_of_war
	}
	
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = BRZ_militarization_of_the_police
	icon = GFX_goal_griffon_arms_focus_com
	
	x = -1
	y = 1
	relative_position_id = BRZ_using_the_army
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_using_the_army
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_militarization_of_the_police"#Auto-logging
		
		add_ideas = BRZ_militarized_police
	}
	
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = BRZ_build_the_hundsfeld_military_academy
	icon = GFX_focus_research
	
	x = 2
	y = 1
	relative_position_id = BRZ_approach_the_nobles
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_approach_the_nobles
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_build_the_hundsfeld_military_academy"#Auto-logging
		
		add_research_slot = 1
	}
	
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = BRZ_end_griffenheim_control
	icon = GFX_goal_treaty_fails
	
	x = 1
	y = 1
	relative_position_id = BRZ_the_military_industrial_complex
	
	cost = 6
	
	ai_will_do = { factor = 10 }
	
	prerequisite = {
		focus = BRZ_the_military_industrial_complex
	}
	
	available = {
	}
	
	bypass = {
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_end_griffenheim_control"#Auto-logging
		
		one_random_arms_factory = yes
		
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

# Shared focus for attacking Griffenheim
shared_focus = {
	id = BRZ_march_on_griffenheim
	icon = GFX_goal_generic_attack_allies
	
	x = 3
	y = 1
	relative_position_id = BRZ_march_of_the_working_dog
	
	cost = 6
	
	ai_will_do = { 
		base = 10 
	}
	
	prerequisite = {
		focus = BRZ_principle_of_total_dedication
		focus = BRZ_march_of_the_working_dog
		focus = BRZ_our_cause_for_justice
		focus = BRZ_unleash_the_dogs_of_war
	}
	
	mutually_exclusive = { 
	}
	
	available = {
		has_army_manpower = { size > 49999 } # 50k
	}
	
	bypass = {
		382 = {
			is_owned_by = ROOT
		}
	}
	
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	will_lead_to_war_with = GRD # tag alias for event_target:griffonian_empire	 
	
	completion_reward = {
		log = "[Root.GetName]: Focus BRZ_march_on_griffenheim"#Auto-logging
	
		add_manpower = 20000 # Some idiots
	
		add_state_claim = 382 # Griffenheim
		add_state_claim = 405
		add_state_claim = 397
		add_state_claim = 437 # Crona
		add_state_claim = 555

		create_wargoal = {
			type = take_state_focus
			target = 382.owner
			generator = { 382 }
		}
		#Don't give wargoal on same country twice
		if = {
			limit = {
				NOT = { 
					437 = { # Crona (connection to Griffenheim)
						owner = { 
							owns_state = 382 # Griffenheim
							NOT = { tag = ROOT } 
						} 
					} 
				}
			}
			create_wargoal = {
				type = take_state_focus
				target = 437.owner
				generator = { 437 }
			}
		}
		
	}
	
	search_filters = { FOCUS_FILTER_ANNEXATION }
}