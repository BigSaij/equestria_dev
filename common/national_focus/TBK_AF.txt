focus_tree = {
	id = TBK_AF_jaddars_arrival
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 500 y = 0 }

	shared_focus = TBK_AF_herald_arrives
}

focus_tree = {
	id = TBK_AF_jadd_empire
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 500 y = 0 }
	shared_focus = TBK_AF_time_to_transform_country
	shared_focus = TBK_AF_mil_intro
	shared_focus = TBK_AF_modern_mercantile_knowledge
}

### Arrival tree ###

	shared_focus = {
		id = TBK_AF_herald_arrives
		icon = GFX_goal_unknown
		cost = 1
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_herald_arrives"
			country_event = { id = TBK_AF_event_start.3 }
		}
	}

	shared_focus = {
		id = TBK_AF_his_task
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_herald_arrives
		prerequisite = { focus = TBK_AF_herald_arrives }
		x = 0
		y = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_his_task"
			country_event = { id = TBK_AF_event_start.7 }
		}
	}

	shared_focus = {
		id = TBK_AF_i_am_jaddar
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_his_task
		prerequisite = { focus = TBK_AF_his_task }
		x = 0
		y = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_i_am_jaddar"
			country_event = { id = TBK_AF_event_start.10 }
		}
	}

### Jaddar Empire tree ###

	shared_focus = {
		id = TBK_AF_time_to_transform_country
		icon = GFX_goal_unknown
		cost = 3
		x = 15
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_time_to_transform_country"
			add_political_power = 300

		}
	}

	shared_focus = {
		id = TBK_AF_empire_administration
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = -2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_empire_administration"
			swap_ideas = {
				remove_idea = TBK_fake_republic
				add_idea = TBK_AF_divine_administration
			}
			custom_effect_tooltip = available_political_advisor
			### set new Pea Shooter portrait
			set_portraits = {
				character = TBK_pea_shooter
				civilian = {
					small = "gfx/interface/ideas/Advisors/TBK_AF/TBK_AF_Pea_Shooter_alternative_1.tga"
					large = "gfx/leaders/TBK_AF/TBK_AF_Pea_Shooter_alternative_1.tga"
				}
			}
			TBK_pea_shooter = {
				add_advisor_role = {
					advisor = {
						slot = political_advisor
						idea_token = TBK_pea_shooter
						cost = 150
						traits = {
							TBK_AF_arms_trader
						}
						desc = pea_shooter_desc ### need to make a modified desc
					}
				}
			}
			add_ideas = TBK_pea_shooter
			### start series of events where Pea tries to escape Tobuck
		}
	}

	shared_focus = {
		id = TBK_AF_lightbring_inquisition
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = -3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_lightbring_inquisition"
			### unlocks Lightbringer decision
			### add spy agency
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = {
						name = "The Lightbringers"
						icon = "GFX_intelligence_agency_logo_lightbringers"
					}
				}
			}
			### give TBK_AF_light_bringer advisor and corps commander role
		}
	}

	#shared_focus = {
	#	id = TBK_AF_militant_jadd_daughter_of_jasiene
	#	icon = GFX_goal_unknown
	#	cost = 2
	#	relative_position_id = TBK_AF_something_something_warfare
	#	prerequisite = { focus = TBK_AF_something_something_warfare }
	#	prerequisite = { focus = TBK_AF_somethin_something_economy }
	#	x = 0
	#	y = 2
	#	completion_reward = {
	#		log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_militant_jadd_daughter_of_jasiene"
	#	}
	#}

	shared_focus = {
		id = TBK_AF_zarantia_spread_message
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			## activate conversion mechanic and add faith to bordering ZAR states
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_war
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = 3
		y = 1
		available = {
			ZAR = {
				exists = yes
				NOT = {
					is_puppet_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		bypass = {
			ZAR = {
				exists = no
			}
		}
		will_lead_to_war_with = ZAR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			hidden_effect = {
				create_wargoal = {
					target = ZAR
					type = annex_everything
				}
			}
			declare_war_on = {
				target = ZAR
				type = annex_everything
			}
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_integration
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_zarantia_spread_message
		prerequisite = { focus = TBK_AF_zarantia_spread_message focus = TBK_AF_zarantia_war  }
		x = 1
		y = 1
		will_lead_to_war_with = ZAR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			### different reward depending on what route was chosen ?
			remove_ideas = TBK_zarantian_loyalism
			ZAR = { add_to_ROOT_potential_cores = yes }
		}
	}


	#### Economy tree

	shared_focus = {
		id = TBK_AF_modern_mercantile_knowledge
		icon = GFX_goal_unknown
		cost = 2
		x = 26
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_commerce_reforms"
			
		}
	}

	#### Military tree
	
	shared_focus = {
		id = TBK_AF_mil_intro
		icon = GFX_goal_unknown
		cost = 2
		x = 6
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_mil_intro"
			country_event = TBK_AF_event_military.1
		}
	}
	shared_focus = {
		id = TBK_AF_new_kind_of_cavalry
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_mil_intro
		prerequisite = { focus = TBK_AF_mil_intro }
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_new_kind_of_cavalry"
			if = {
				limit = {
					NOT = {
						has_tech = motorised_infantry
					}
				}
				set_technology = {
					motorised_infantry = 1
				}
			}
			if = {
				limit = { 
					NOT = { 
						has_template = "Desert Phoenixes"
					}
				}
				division_template = {
					name = "Desert Phoenixes"
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
					}
					support = {
						mot_recon = { x = 0 y = 0 }
					}
					priority = 2
				}
			}
			capital_scope = { 
				create_unit = {
					division = "name = \"Desert Phoenixes\" division_template = \"Desert Phoenixes\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
					owner = ROOT
				}
			}
		}
	}
	shared_focus = {
		id = TBK_AF_desert_expertise
		icon = GFX_goal_unknown
		cost = 2
		x = -2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_expertise"
			hidden_effect = {
				set_technology = {
					popup = no
					desert_warfare = 1
				}
			}
			custom_effect_tooltip = TBK_desert_warfare_training_tp
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
				add_attack = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}
	shared_focus = {
		id = TBK_AF_survival_expertise
		icon = GFX_goal_unknown
		cost = 2
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_survival_expertise"
			add_ideas = TBK_AF_survival_expertise_idea
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
				add_attack = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}
