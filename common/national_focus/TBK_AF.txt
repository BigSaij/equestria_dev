focus_tree = {
	id = TBK_AF_jaddars_arrival
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 500 y = 0 }

	shared_focus = TBK_AF_herald_arrives
}

focus_tree = {
	id = TBK_AF_jadd_empire
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 600 y = 925 }
	shared_focus = TBK_AF_time_to_transform_country
	shared_focus = TBK_AF_mil_intro
	shared_focus = TBK_AF_modern_mercantile_knowledge
}

focus_tree = {
	id = TBK_AF_jadd_empire_beastbane_war
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 600 y = 925 }
	shared_focus = TBK_AF_time_to_transform_country
	shared_focus = TBK_AF_mil_intro
	shared_focus = TBK_AF_modern_mercantile_knowledge
	shared_focus = TBK_AF_war_against_darkness
}

### Arrival tree ###

	shared_focus = {
		id = TBK_AF_herald_arrives
		icon = GFX_goal_unknown
		cost = 1
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_herald_arrives"
			country_event = { id = TBK_AF_event_start.3 }
		}
	}

	shared_focus = {
		id = TBK_AF_his_task
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_herald_arrives
		prerequisite = { focus = TBK_AF_herald_arrives }
		x = 0
		y = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_his_task"
			country_event = { id = TBK_AF_event_start.7 }
		}
	}

	shared_focus = {
		id = TBK_AF_i_am_jaddar
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_his_task
		prerequisite = { focus = TBK_AF_his_task }
		x = 0
		y = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_i_am_jaddar"
			country_event = { id = TBK_AF_event_start.10 }
		}
	}

### Jaddar Empire tree ###

	shared_focus = {
		id = TBK_AF_time_to_transform_country
		icon = GFX_goal_unknown
		cost = 3
		x = 16
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_time_to_transform_country"
			add_political_power = 300
			EAW_raise_conscription_law = yes
			add_timed_idea = {
				idea = TBK_AF_jubilant_celebrations
				days = 365
			}
		}
	}

	shared_focus = {
		id = TBK_AF_empire_administration
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = -2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_empire_administration"
			swap_ideas = {
				remove_idea = TBK_fake_republic
				add_idea = TBK_AF_divine_administration
			}
		}
	}

	shared_focus = {
		id = TBK_AF_cult_of_sun
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = -3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_cult_of_sun"
			add_ideas = TBK_jadd_faith_1
		}
	}

	shared_focus = {
		id = TBK_AF_lightbringers_order
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_cult_of_sun
		prerequisite = { focus = TBK_AF_cult_of_sun }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_lightbringers_order"
			### unlocks Lightbringer decision, tooltip that explains what this does (IMPORTANT! Explain player can now spread faith to foreign states)
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = {
						name = "The Lightbringers"
						icon = "GFX_intelligence_agency_logo_lightbringers"
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = tech_military_police
					}
				}
				set_technology = {
					tech_military_police = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 1
					category = military_police_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 2
					category = military_police_tech
				}
			}
			### tooltip about TBK_AF_light_bringer getting corps commander role
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TBK_AF_light_bringer
		}
	}

	shared_focus = {
		id = TBK_AF_kindful_rays
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_kindful_rays"
			add_stability = 0.05
			swap_ideas = {
				remove_idea = poverty4
				add_idea = no_poverty
			}
			### Jaddar zealot experience
		}
	}
	
	shared_focus = {
		id = TBK_AF_tobuck_grand_temple
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_lightbringers_order
		prerequisite = { focus = TBK_AF_lightbringers_order }
		prerequisite = { focus = TBK_AF_kindful_rays }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tobuck_grand_temple"
			728 = {
				add_building_construction = {
					type = landmark_tbk_af_eduz_tobuck
					level = 1
					instant_build = yes
					province = 18510
				}
			}
			custom_effect_tooltip = {
				localization_key = magical_facility_construction_tt
				temp_facility_state_loc = "[690.GetName]"
				temp_facility_province_loc = "[690.GetCapitalVictoryPointName]"
			}
			hidden_effect = {
				if = {
					limit = { 
						728 = {
							is_fully_controlled_by = ROOT
							can_construct_building = magical_facility
						}
					}
					728 = {
						add_building_construction = {
							type = magical_facility
							level = 1
							instant_build = yes
							province = 18510
						}
					}
				}
			}
			### add also thaumathurgical academy to Tobuck + scientist
			add_breakthrough_points = {
				specialization = specialization_magical
				value = 3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_able_advisors
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_able_advisors"
			custom_effect_tooltip = available_political_advisor
			set_portraits = {
				character = TBK_pea_shooter
				civilian = {
					small = "gfx/interface/ideas/Advisors/TBK_AF/TBK_AF_Pea_Shooter_alternative_1.tga"
					large = "gfx/leaders/TBK_AF/TBK_AF_Pea_Shooter_alternative_1.tga"
				}
			}
			TBK_pea_shooter = {
				add_advisor_role = {
					advisor = {
						slot = political_advisor
						idea_token = TBK_pea_shooter
						cost = 150
						traits = { TBK_AF_arms_trader }
						desc = pea_shooter_desc ### need to make a modified desc
					}
				}
			}
			add_ideas = TBK_pea_shooter
			### start series of events where Pea tries to escape Tobuck
			### Jaddar sovereign experience
		}
	}

	shared_focus = {
		id = TBK_AF_holy_texts
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_kindful_rays
		prerequisite = { focus = TBK_AF_kindful_rays focus = TBK_AF_able_advisors }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_texts"
			decrease_illiteracy = yes
		}
	}

	shared_focus = {
		id = TBK_AF_holy_cause
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			custom_effect_tooltip = SOL_Faith_Sacrifice_Worship_tp
			custom_effect_tooltip = super_combat_abilities_tt
			hidden_effect = {
				set_technology = {
					popup = no
					berserker_charge = 1
				}
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
				set_country_flag = kamikaze_flag
			}
			add_ideas = TBK_holy_war_doctrine_1
			### tooltip about getting TBK_AF_necorin as corps commander
		}
	}

	shared_focus = {
		id = TBK_AF_dutiful_faitful
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_holy_cause
		prerequisite = { focus = TBK_AF_holy_cause }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			add_research_slot = 1
		}
	}

	shared_focus = {
		id = TBK_AF_laws_of_the_empire
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_able_advisors
		prerequisite = { focus = TBK_AF_able_advisors }
		prerequisite = { focus = TBK_AF_dutiful_faitful }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			swap_ideas = {
				remove_idea = TBK_AF_divine_administration_1
				add_idea = TBK_AF_divine_administration_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_herald_of_surael
		icon = GFX_TBK_AF_herald_of_surael
		cost = 3
		relative_position_id = TBK_AF_tobuck_grand_temple
		prerequisite = { focus = TBK_AF_tobuck_grand_temple }
		prerequisite = { focus = TBK_AF_holy_texts }
		prerequisite = { focus = TBK_AF_laws_of_the_empire }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			remove_ideas = zebrica_legacy_of_storm3
			TBK_AF_jaddar_jexiszuir = {
				add_country_leader_trait = TK_AF_herald_of_surael
			}
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_spread_message
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			## activate conversion mechanic and add faith to bordering ZAR states
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_war
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = 4
		y = 1
		available = {
			ZAR = {
				exists = yes
				NOT = {
					is_puppet_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		bypass = {
			ZAR = {
				exists = no
			}
		}
		will_lead_to_war_with = ZAR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			hidden_effect = {
				create_wargoal = {
					target = ZAR
					type = annex_everything
				}
			}
			declare_war_on = {
				target = ZAR
				type = annex_everything
			}
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_integration
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_zarantia_spread_message
		prerequisite = { focus = TBK_AF_zarantia_spread_message focus = TBK_AF_zarantia_war  }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			### different reward depending on what route was chosen ?
			### add many ZAR characters to TBK
			remove_ideas = TBK_zarantian_loyalism
			ZAR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_for_the_faith
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_holy_cause
		prerequisite = { focus = TBK_AF_holy_cause }
		prerequisite = { focus = TBK_AF_zarantia_integration }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_for_the_faith"
			add_war_support = 0.15
			EAW_raise_conscription_law = yes
		}
	}

	shared_focus = {
		id = TBK_AF_sun_pegasi
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_for_the_faith
		prerequisite = { focus = TBK_AF_for_the_faith }
		x = -1
		y = 1
		available = {
			has_tech = motorised_infantry
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_sun_pegasi"
			if = {
				limit = {
					NOT = {
						has_tech = tech_recon
					}
				}
				set_technology = {
					tech_recon = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 1
					category = recon_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 2
					category = recon_tech
				}
			}
			### add tooltip desribing the template below: 35w with 13 pegasi + 3 mot.artillery and recon + artillery support
			load_oob = "TBK_AF_sun_pegasi"
		}
	}

	shared_focus = {
		id = TBK_AF_operation_redoubt
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_for_the_faith
		prerequisite = { focus = TBK_AF_for_the_faith }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			728 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18510
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes 
					province = 18510
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18512
				}
			}
			745 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18521
				}
			}
			746 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18541
				}
			}
			747 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18564
				}
			}
			729 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes 
					province = 18485
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_faitful_dunes
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_zarantia_integration
		prerequisite = { focus = TBK_AF_zarantia_integration }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_faitful_dunes"
			every_controlled_state = {
				limit = {
					is_core_of = ZAR
					has_active_resistance = yes
				}
				add_compliance = 30
				add_resistance_target = {
					amount = -15
					days = 180
				}
			}
			random_controlled_state = {
				limit = {
					is_core_of = ZAR
					NOT = {
						is_core_of = TBK
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_controlled_state = {
				limit = {
					is_core_of = ZAR
					NOT = {
						is_core_of = TBK
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_stability = 0.1
		}
	}

	shared_focus = {
		id = TBK_AF_zebrahas_finest_warriors
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_faitful_dunes
		prerequisite = { focus = TBK_AF_faitful_dunes }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_zebrahas_finest_warriors"
			### spawn Imazeeb units
		}
	}
	
	shared_focus = {
		id = TBK_AF_stand_against_darkness
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_sun_pegasi
		prerequisite = { focus = TBK_AF_sun_pegasi }
		prerequisite = { focus = TBK_AF_zebrahas_finest_warriors }
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_zebrahas_finest_warriors"
			swap_ideas = {
				remove_idea = TBK_holy_war_doctrine_1
				add_idea = TBK_holy_war_doctrine_2
			}
		}
	}
	
	shared_focus = {
		id = TBK_AF_war_against_chiropterra
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_herald_of_surael
		prerequisite = { focus = TBK_AF_herald_of_surael }
		prerequisite = { focus = TBK_AF_stand_against_darkness }
		x = 2
		y = 1
		will_lead_to_war_with = BAT
		bypass = {
			AND = {
				BAT = {
					OR = {
						exists = no
						is_puppet_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_zebrahas_finest_warriors"
			if = {
				limit = {
					NOT = {
						has_war_with = BAT
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZAR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZAR
					type = annex_everything
				}
			}
			add_ideas = TBK_AF_BAT_war_idea
		}
	}
		
	shared_focus = {
		id = TBK_AF_offer_redemption_to_chiropterrans
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_war_against_chiropterra
		prerequisite = { focus = TBK_AF_war_against_chiropterra }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_offer_redemption_to_chiropterrans"
			### event about Jaddar approaching BAT characters who would be useful (transfers these characters over to TBK)
			every_owned_state = {
				limit = {
					is_core_of = BAT
					has_active_resistance = yes
				}
				add_resistance_target = -0.20
			}
		}
	}

	shared_focus = {
		id = TBK_AF_free_chiropterran_slaves
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_war_against_chiropterra
		prerequisite = { focus = TBK_AF_war_against_chiropterra }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_free_chiropterran_slaves"
			add_manpower = 31000
			every_owned_state = {
				limit = {
					is_core_of = BAT
					has_active_resistance = yes
				}
				add_compliance = 20
			}
		}
	}

	shared_focus = {
		id = TBK_AF_celebrate_chiropterra_victory
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_offer_redemption_to_chiropterrans
		prerequisite = { focus = TBK_AF_offer_redemption_to_chiropterrans }
		prerequisite = { focus = TBK_AF_free_chiropterran_slaves }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_celebrate_chiropterra_victory"
			### fire event where Jaddar sets out his plan to spread light of Surael across Zebrica
			add_stability = 0.1
			TBK_AF_jaddar_jexiszuir = {
				swap_country_leader_traits = {
					remove = TK_AF_herald_of_surael
					add = TK_AF_herald_of_surael_expanded
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_desert_conquests
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -4
		y = 1
		will_lead_to_war_with = ZAI
		will_lead_to_war_with = CGI
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_conquests"
			if = {
				limit = {
					ZAI = {
						exists = yes
					}
					NOT = {
						has_war_with = ZAI
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZAI
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZAI
					type = annex_everything
				}
			}
			ZAI = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CGI = {
						exists = yes
					}
					NOT = {
						has_war_with = CGI
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CGI
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CGI
					type = annex_everything
				}
			}
			CGI = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_maregyptian_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -5
		y = 1
		will_lead_to_war_with = MGY
		will_lead_to_war_with = MDL
		will_lead_to_war_with = MKS
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_maregyptian_conquest"
			if = {
				limit = {
					MGY = {
						exists = yes
					}
					NOT = {
						has_war_with = MGY
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MGY
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MGY
					type = annex_everything
				}
			}
			MGY = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MDL = {
						exists = yes
					}
					NOT = {
						has_war_with = MDL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MDL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MDL
					type = annex_everything
				}
			}
			MDL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MKS = {
						exists = yes
					}
					NOT = {
						has_war_with = MKS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MKS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MKS
					type = annex_everything
				}
			}
			MKS = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_abyssinia_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_maregyptian_conquest
		prerequisite = { focus = TBK_AF_maregyptian_conquest }
		x = -1
		y = 1
		available = {
			AND = {
				MGY = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				MKS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		will_lead_to_war_with = ABY
		will_lead_to_war_with = KLG
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_abyssinia_conquest"
			if = {
				limit = {
					ABY = {
						exists = yes
					}
					NOT = {
						has_war_with = ABY
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ABY
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ABY
					type = annex_everything
				}
			}
			ABY = { add_to_ROOT_potential_cores = yes }
			### if WNG owns ABY states, maybe make an event demanding their return?
			### make limited war?
			if = {
				limit = {
					KLG = {
						exists = yes
					}
					NOT = {
						has_war_with = KLG
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = KLG
						type = annex_everything
					}
				}
				declare_war_on = {
					target = KLG
					type = annex_everything
				}
			}
			KLG = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_donkey_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_abyssinia_conquest
		prerequisite = { focus = TBK_AF_abyssinia_conquest }
		x = -1
		y = 1
		available = { #### MODIFY SO YOU DON'T NEED WNG OWNED ABY CORES
			ABY = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		will_lead_to_war_with = ASS
		will_lead_to_war_with = ANS
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_donkey_conquest"
			if = {
				limit = {
					ASS = {
						exists = yes
					}
					NOT = {
						has_war_with = ASS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ASS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ASS
					type = annex_everything
				}
			}
			ASS = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					ANS = {
						exists = yes
					}
					NOT = {
						has_war_with = ANS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ANS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ANS
					type = annex_everything
				}
			}
			ANS = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_saddle_arabia_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_donkey_conquest
		prerequisite = { focus = TBK_AF_donkey_conquest }
		x = 1
		y = 1
		available = {
			AND = {
				ASS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				ANS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		will_lead_to_war_with = SDL
		will_lead_to_war_with = SDC
		will_lead_to_war_with = SDS
		will_lead_to_war_with = SDF
		will_lead_to_war_with = EMR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_saddle_arabia_conquest"
			if = {
				limit = {
					SDL = {
						exists = yes
					}
					NOT = {
						has_war_with = SDL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDL
					type = annex_everything
				}
			}
			SDL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SDC = {
						exists = yes
					}
					NOT = {
						has_war_with = SDC
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDC
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDC
					type = annex_everything
				}
			}
			SDC = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SDS = {
						exists = yes
					}
					NOT = {
						has_war_with = SDS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDS
					type = annex_everything
				}
			}
			SDS = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SDF = {
						exists = yes
					}
					NOT = {
						has_war_with = SDF
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDF
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDF
					type = annex_everything
				}
			}
			SDF = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					EMR = {
						exists = yes
					}
					NOT = {
						has_war_with = EMR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = EMR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = EMR
					type = annex_everything
				}
			}
			EMR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_desert_conquests
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -3
		y = 1
		will_lead_to_war_with = ZAI
		will_lead_to_war_with = CZR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_conquests"
			if = {
				limit = {
					ZAI = {
						exists = yes
					}
					NOT = {
						has_war_with = ZAI
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZAI
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZAI
					type = annex_everything
				}
			}
			ZAI = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CZR = {
						exists = yes
					}
					NOT = {
						has_war_with = CZR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CZR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CZR
					type = annex_everything
				}
			}
			CZR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_great_lakes_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_maregyptian_conquest
		prerequisite = { focus = TBK_AF_maregyptian_conquest focus = TBK_AF_desert_conquests }
		x = 1
		y = 1
		available = {
			OR = {
				AND = {
					ZAI = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					CZR = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
				AND = {
					ZAI = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					CZR = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
			}
		}
		will_lead_to_war_with = ALO
		will_lead_to_war_with = TIM
		will_lead_to_war_with = CZR
		will_lead_to_war_with = SON
		will_lead_to_war_with = MSH
		will_lead_to_war_with = MAZ
		will_lead_to_war_with = MSS
		will_lead_to_war_with = ZWA
		will_lead_to_war_with = ZUG
		will_lead_to_war_with = ZEL
		will_lead_to_war_with = HAY
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_great_lakes_conquest"
			if = {
				limit = {
					ALO = {
						exists = yes
					}
					NOT = {
						has_war_with = ALO
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ALO
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ALO
					type = annex_everything
				}
			}
			ALO = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					TIM = {
						exists = yes
					}
					NOT = {
						has_war_with = TIM
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = TIM
						type = annex_everything
					}
				}
				declare_war_on = {
					target = TIM
					type = annex_everything
				}
			}
			TIM = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CZR = {
						exists = yes
					}
					NOT = {
						has_war_with = CZR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CZR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CZR
					type = annex_everything
				}
			}
			CZR = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SON = {
						exists = yes
					}
					NOT = {
						has_war_with = SON
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SON
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SON
					type = annex_everything
				}
			}
			SON = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MSH = {
						exists = yes
					}
					NOT = {
						has_war_with = MSH
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MSH
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MSH
					type = annex_everything
				}
			}
			MSH = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MAZ = {
						exists = yes
					}
					NOT = {
						has_war_with = MAZ
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MAZ
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MAZ
					type = annex_everything
				}
			}
			MAZ = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MSS = {
						exists = yes
					}
					NOT = {
						has_war_with = MSS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MSS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MSS
					type = annex_everything
				}
			}
			MSS = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					ZWA = {
						exists = yes
					}
					NOT = {
						has_war_with = ZWA
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZWA
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZWA
					type = annex_everything
				}
			}
			ZWA = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					ZUG = {
						exists = yes
					}
					NOT = {
						has_war_with = ZUG
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZUG
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZUG
					type = annex_everything
				}
			}
			ZUG = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					ZEL = {
						exists = yes
					}
					NOT = {
						has_war_with = ZEL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZEL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZEL
					type = annex_everything
				}
			}
			ZEL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HAY = {
						exists = yes
					}
					NOT = {
						has_war_with = HAY
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HAY
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HAY
					type = annex_everything
				}
			}
			HAY = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_lakes_fortifications
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_great_lakes_conquest
		prerequisite = { focus = TBK_AF_great_lakes_conquest }
		available = {
			ALO = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			TIM = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			CZR = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			SON = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			MSH = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			MAZ = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			MSS = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			ZWA = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			ZUG = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			ZEL = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			HAY = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_secrets_of_the_dunes"
			### add forts to border poinds next to Beastbane lands
			### maybe prepare a fallbackline?
		}
	}

	shared_focus = {
		id = TBK_AF_riseia_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_abyssinia_conquest
		prerequisite = { focus = TBK_AF_abyssinia_conquest focus = TBK_AF_great_lakes_conquest }
		x = 1
		y = 1
		will_lead_to_war_with = YMN
		will_lead_to_war_with = HMR
		will_lead_to_war_with = OSQ
		will_lead_to_war_with = MTA
		will_lead_to_war_with = REE
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_riseia_conquest"
			if = {
				limit = {
					YMN = {
						exists = yes
					}
					NOT = {
						has_war_with = YMN
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = YMN
						type = annex_everything
					}
				}
				declare_war_on = {
					target = YMN
					type = annex_everything
				}
			}
			YMN = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HMR = {
						exists = yes
					}
					NOT = {
						has_war_with = HMR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HMR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HMR
					type = annex_everything
				}
			}
			HMR = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					OSQ = {
						exists = yes
					}
					NOT = {
						has_war_with = OSQ
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = OSQ
						type = annex_everything
					}
				}
				declare_war_on = {
					target = OSQ
					type = annex_everything
				}
			}
			OSQ = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MTA = {
						exists = yes
					}
					NOT = {
						has_war_with = MTA
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MTA
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MTA
					type = annex_everything
				}
			}
			MTA = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					REE = {
						exists = yes
					}
					NOT = {
						has_war_with = REE
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = REE
						type = annex_everything
					}
				}
				declare_war_on = {
					target = REE
					type = annex_everything
				}
			}
			REE = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_hestraya_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_saddle_arabia_conquest
		prerequisite = { focus = TBK_AF_saddle_arabia_conquest focus = TBK_AF_riseia_conquest }
		x = 1
		y = 1
		available = {
			OR = {
				AND = {
					SDL = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					SDC = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					SDS = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					SDF = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					EMR = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
				AND = {
					YMN = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					HMR = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					OSQ = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					MTA = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					REE = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
			}
		}
		will_lead_to_war_with = KAR
		will_lead_to_war_with = MTO
		will_lead_to_war_with = AES
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_conquests"
			if = {
				limit = {
					KAR = {
						exists = yes
					}
					NOT = {
						has_war_with = KAR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = KAR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = KAR
					type = annex_everything
				}
			}
			KAR = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MTO = {
						exists = yes
					}
					NOT = {
						has_war_with = MTO
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MTO
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MTO
					type = annex_everything
				}
			}
			MTO = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					AES = {
						exists = yes
					}
					NOT = {
						has_war_with = AES
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = AES
						type = annex_everything
					}
				}
				declare_war_on = {
					target = AES
					type = annex_everything
				}
			}
			AES = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_frontier_fortifications
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_desert_conquests
		prerequisite = { focus = TBK_AF_desert_conquests }
		available = {
			ZAI = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			CZR = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_secrets_of_the_dunes"
			### add forts to border poinds next to Beastbane lands in the Zebrahan desert
			### maybe give state modifiers improving local supply for owner?
		}
	}

	shared_focus = {
		id = TBK_AF_organised_priesthood
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_organised_priesthood"
			swap_ideas = {
				remove_idea = TBK_jadd_faith_1
				add_idea = TBK_jadd_faith_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_lightbringers_spearhead
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_organised_priesthood
		prerequisite = { focus = TBK_AF_organised_priesthood }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_lightbringers_spearhead"
			### unique lightbringers support company? Mixes in recon and military police
			### if not then maybe an idea? Boost Light Bringer's trait?
			if = {
				limit = {
					has_intelligence_agency = yes
				}
				gain_random_agency_upgrade = yes
				gain_random_agency_upgrade = yes
			}
		}
	}

	shared_focus = {
		id = TBK_AF_universal_message_of_hope
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_organised_priesthood
		prerequisite = { focus = TBK_AF_organised_priesthood }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_universal_message_of_hope"
			### increases base conversion speed
			add_popularity = { ideology = neutrality popularity = 0.1 }
		}
	}
	
	shared_focus = {
		id = TBK_AF_eternal_war_against_evil
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_eternal_war_against_evil"
			### unlocks decisions to raise units from states that have reached at least 50% conversion
			swap_ideas = {
				remove_idea = TBK_holy_war_doctrine_2
				add_idea = TBK_holy_war_doctrine_3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_burgeoning_administration
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_burgeoning_administration"
			decrease_illiteracy = yes
			swap_ideas = {
				remove_idea = TBK_AF_divine_administration_2
				add_idea = TBK_AF_divine_administration_3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_brilliance_of_education
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_burgeoning_administration
		prerequisite = { focus = TBK_AF_burgeoning_administration }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tobuck_jaher_academy"
			add_research_slot = 1
			if = {
				limit = {
					NOT = {
						has_idea = proper_science_base
					}
				}
				increase_science_base = yes
			}
			decrease_illiteracy = yes
		}
	}

	shared_focus = {
		id = TBK_AF_bulwark_of_light
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_universal_message_of_hope
		prerequisite = { focus = TBK_AF_universal_message_of_hope }
		prerequisite = { focus = TBK_AF_eternal_war_against_evil }
		prerequisite = { focus = TBK_AF_brilliance_of_education }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_bulwark_of_light"
			TBK_AF_jaddar_jexiszuir = {
				swap_country_leader_traits = {
					remove = TK_AF_herald_of_surael_expanded
					add = TK_AF_herald_of_surael_final
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_theocratic_inclusivity
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_burgeoning_administration
		prerequisite = { focus = TBK_AF_burgeoning_administration }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_burgeoning_administration"
			every_owned_state = {
				limit = {
					has_active_resistance = yes
				}
				add_compliance = 25
				add_resistance_target = {
					amount = -35
					days = 365
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_warzena_zumidia_question
		icon = GFX_TBK_AF_warzenia_zumidia_question
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 3
		y = 1
		will_lead_to_war_with = WAR
		will_lead_to_war_with = ZUM
		will_lead_to_war_with = HIP
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_warzena_zumidia_question"
			### if WAR is fully independent from HIP, you get a normal wargoal for them
			### otherwise WAR is included in the event where TBK demands HIP leave the mainland or face limited war.
			### war can be ended after HIP doesn't control any mainland holdings.
		}
	}

	shared_focus = {
		id = TBK_AF_hippogriffia_submit_to_light
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_warzena_zumidia_question
		prerequisite = { focus = TBK_AF_warzena_zumidia_question }
		x = 1
		y = 1
		### add available that checks if HIP's owned core states all have at least 50% conversion
		### Or all HIP cores are owned by TBK
		available = {
			OR = {
				HIP = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				HIP = {
					all_core_state = {
						check_variable = {
							var = TBK_AF_state_view_jadd_progress
							value = 50
							compare = greater_than_or_equals
						}
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_warzena_zumidia_question"
			### HIP is annexed by TBK, their navy and army are integrated
			### add some HIP commanders/high command advisors
		}
	}

	shared_focus = {
		id = TBK_AF_hippogriffia_aviation_expertise
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_hippogriffia_submit_to_light
		prerequisite = { focus = TBK_AF_hippogriffia_submit_to_light }
		x = -1
		y = 1
		available = {
			HIP = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hippogriffia_aviation_expertise"
			### add air buff idea
			### air tech buffs?
			### spawn fighter/cas models?
		}
	}

	shared_focus = {
		id = TBK_AF_hippogriffia_naval_expertise
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_hippogriffia_submit_to_light
		prerequisite = { focus = TBK_AF_hippogriffia_submit_to_light }
		x = 0
		y = 2
		available = {
			HIP = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hippogriffia_naval_expertise"
			### add naval buff idea
		}
	}

	shared_focus = {
		id = TBK_AF_colthage_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 5
		y = 1
		will_lead_to_war_with = CTH
		will_lead_to_war_with = CVA
		will_lead_to_war_with = HIE
		will_lead_to_war_with = TRO
		will_lead_to_war_with = CGI
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_colthage_conquest"
			if = {
				limit = {
					CTH = {
						exists = yes
					}
					NOT = {
						has_war_with = CTH
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CTH
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CTH
					type = annex_everything
				}
			}
			CTH = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CVA = {
						exists = yes
					}
					NOT = {
						has_war_with = CVA
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CVA
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CVA
					type = annex_everything
				}
			}
			CVA = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HIE = {
						exists = yes
					}
					NOT = {
						has_war_with = HIE
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HIE
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HIE
					type = annex_everything
				}
			}
			HIE = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					TRO = {
						exists = yes
					}
					NOT = {
						has_war_with = TRO
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = TRO
						type = annex_everything
					}
				}
				declare_war_on = {
					target = TRO
					type = annex_everything
				}
			}
			TRO = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CGI = {
						exists = yes
					}
					NOT = {
						has_war_with = CGI
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CGI
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CGI
					type = annex_everything
				}
			}
			CGI = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_hindia_conquest
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_colthage_conquest
		prerequisite = { focus = TBK_AF_colthage_conquest }
		available = {
			AND = {
				CTH = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				CVA = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				HIE = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				TRO = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				CGI = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		x = 0
		y = 2
		will_lead_to_war_with = LMB
		will_lead_to_war_with = SPL
		will_lead_to_war_with = HIN
		will_lead_to_war_with = SAM
		will_lead_to_war_with = BRS
		will_lead_to_war_with = HRV
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hindia_conquest"
			if = {
				limit = {
					LMB = {
						exists = yes
					}
					NOT = {
						has_war_with = LMB
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = LMB
						type = annex_everything
					}
				}
				declare_war_on = {
					target = LMB
					type = annex_everything
				}
			}
			LMB = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SPL = {
						exists = yes
					}
					NOT = {
						has_war_with = SPL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SPL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SPL
					type = annex_everything
				}
			}
			SPL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HIN = {
						exists = yes
					}
					NOT = {
						has_war_with = HIN
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HIN
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HIN
					type = annex_everything
				}
			}
			HIN = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SAM = {
						exists = yes
					}
					NOT = {
						has_war_with = SAM
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SAM
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SAM
					type = annex_everything
				}
			}
			SAM = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					BRS = {
						exists = yes
					}
					NOT = {
						has_war_with = BRS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = BRS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = BRS
					type = annex_everything
				}
			}
			BRS = { add_to_ROOT_potential_cores = yes }
			### if HRV is under MCW puppet, ignore them
		}
	}

	shared_focus = {
		id = TBK_AF_eastern_fortifications
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_hindia_conquest
		prerequisite = { focus = TBK_AF_hindia_conquest }
		available = {
			AND = {
				LMB = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SPL = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				HIN = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SAM = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				BRS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_macawia_submit_to_light"
			### puts forts on border against beastbane in Hindia, Stagpal and Quaggatai
		}
	}

	shared_focus = {
		id = TBK_AF_hindia_resources
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_hindia_conquest
		prerequisite = { focus = TBK_AF_hindia_conquest }
		available = {
			AND = {
				LMB = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SPL = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				HIN = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SAM = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				BRS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				#HRV = {
				#	all_core_state = {
				#		owner = {
				#			tag = ROOT
				#		}
				#	}
				#}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hindia_resources"
			### boosts Hindia resources
			### factories?
		}
	}

	shared_focus = {
		id = TBK_AF_macawia_submit_to_light
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_colthage_conquest
		prerequisite = { focus = TBK_AF_colthage_conquest }
		x = 1
		y = 1
		### add available that checks if MCW's owned core states all have at least 50% conversion
		available = {
			MCW = {
				all_core_state = {
					check_variable = {
						var = TBK_AF_state_view_jadd_progress
						value = 50
						compare = greater_than_or_equals
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_macawia_submit_to_light"
			### MCW is annexed by TBK, their navy and army are integrated
			### if HRV is MCW puppet, annex them too and get cores
		}
	}

	shared_focus = {
		id = TBK_AF_harpy_riches
		icon = GFX_goal_unknown
		cost = 3
		relative_position_id = TBK_AF_macawia_submit_to_light
		prerequisite = { focus = TBK_AF_macawia_submit_to_light }
		available = {
			MCW = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_harpy_riches"
			add_tech_bonus = {
				name = industry_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 3
				category = industry
			}
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 3
				category = electronics
			}
			### idea that boosts industrial effects? Check after economic tree is done
		}
	}

	#### War Against Beastbane tree

	shared_focus = {
		id = TBK_AF_war_against_darkness
		icon = GFX_goal_unknown
		cost = 1
		x = 16
		y = 14
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_war_against_darkness"
			### this focus auto-completes when tree spawns
			set_rule = { can_create_factions = yes }
			create_faction = TBK_AF_alliance
		}
	}

	shared_focus = {
		id = TBK_AF_declare_holy_war
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_declare_holy_war"
			add_ideas = TBK_AF_holy_war_1
		}
	}

	shared_focus = {
		id = TBK_AF_anti_undead_warfare
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_declare_holy_war
		prerequisite = { focus = TBK_AF_declare_holy_war }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_anti_undead_warfare"
			add_tech_bonus = {
				name = land_fort_bonus
				bonus = 1
				uses = 3
				category = cat_fortification
			}
			### enables decisions to mine a state, giving a timed buff for core defence in the state
		}
	}

	shared_focus = {
		id = TBK_AF_purging_flames
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_anti_undead_warfare
		prerequisite = { focus = TBK_AF_anti_undead_warfare }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_purging_flames"
			custom_effect_tooltip = ZAR_desert_tunnels_tt
			set_technology = {
				ZAR_digger_tech = 1
				popup = no
			}
			add_tech_bonus = {
				name = support_bonus
				bonus = 1.5
				uses = 2
				ahead_reduction = 3
				category = engineers_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_total_devotion
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_declare_holy_war
		prerequisite = { focus = TBK_AF_declare_holy_war }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_total_devotion"
			custom_effect_tooltip = TBK_AF_total_devotion_tech_tp
			hidden_effect = {
				set_technology = {
					popup = no
					TBK_AF_total_devotion_tech = 1
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_offer_absolution
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_total_devotion
		prerequisite = { focus = TBK_AF_total_devotion }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_offer_absolution"
			### add decision to draft penal companies
		}
	}

	shared_focus = {
		id = TBK_AF_fight_the_blight
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_fight_the_blight"
			### unlocks decision where Lightbringers begin to purge a state from blight, increasing decrease of the blight effect
		}
	}

	shared_focus = {
		id = TBK_AF_together_against_darkness
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_together_against_darkness"
			#### invite every remaining free Zebrican nation into a faction against Beastbane?
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_active_resistance = yes
				}
				add_compliance = 40
			}
		}
	}

	shared_focus = {
		id = TBK_AF_everycreature_in_arms
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_total_devotion
		prerequisite = { focus = TBK_AF_total_devotion }
		prerequisite = { focus = TBK_AF_together_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_everycreature_in_arms"
			hidden_effect = {
				division_template = {
	                name = "Ardent Militia"
	                is_locked = yes
	                    regiments = {
		                    militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
							militia = { x = 1 y = 2 }
							militia = { x = 2 y = 0 }
							militia = { x = 2 y = 1 }
							militia = { x = 2 y = 2 }
							militia = { x = 3 y = 0 }
							militia = { x = 3 y = 1 }
							militia = { x = 3 y = 2 }
	                    }
						support = {
							artillery = { x = 0 y = 1 }
							engineer = { x = 0 y = 0 }
							military_police = { x = 0 y = 1 }
						}
                    }
			}
			every_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "division_template = \"Ardent Militia\" start_experience_factor = 0.0"
					allow_spawning_on_enemy_provs = no
					owner = ROOT
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_spear_and_shield_of_surael
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_purging_flames
		prerequisite = { focus = TBK_AF_purging_flames }
		prerequisite = { focus = TBK_AF_everycreature_in_arms }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_spear_and_shield_of_surael"
			swap_ideas = {
				remove_idea = TBK_AF_holy_war_1
				add_idea = TBK_AF_holy_war_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_body_and_soul_for_surael
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_together_against_darkness
		prerequisite = { focus = TBK_AF_together_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_appeal_past_the_shores"
			### improves FP point accumulation
			### unlocks a battle tactic using FP
		}
	}

	shared_focus = {
		id = TBK_AF_mass_evacuation_plan
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_mass_evacuation_plan"
			### enables decisions to evacuate industries from close the frontline (aka states bordering DEL controleld ones)
		}
	}

	shared_focus = {
		id = TBK_AF_state_of_emergency
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_state_of_emergency"
			add_ideas = TBK_holy_war_economy_1
		}
	}

	shared_focus = {
		id = TBK_AF_cogs_in_machine
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_state_of_emergency
		prerequisite = { focus = TBK_AF_state_of_emergency }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_cogs_in_machine"
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 75000
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 5000
			}
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 5000
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 2500
			}
		}
	}

	shared_focus = {
		id = TBK_AF_everycreature_at_work
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_together_against_darkness
		prerequisite = { focus = TBK_AF_together_against_darkness }
		prerequisite = { focus = TBK_AF_cogs_in_machine }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_everycreature_at_work"
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
		}
	}
	
	shared_focus = {
		id = TBK_AF_everycreature_at_work
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_together_against_darkness
		prerequisite = { focus = TBK_AF_together_against_darkness }
		prerequisite = { focus = TBK_AF_cogs_in_machine }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_everycreature_at_work"
			
		}
	}

	shared_focus = {
		id = TBK_AF_supplies_to_the_front
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_state_of_emergency
		prerequisite = { focus = TBK_AF_state_of_emergency }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_supplies_to_the_front"
			add_tech_bonus = {
				name = support_bonus
				bonus = 1
				uses = 1
				category = logistics_tech
			}
			add_tech_bonus = {
				name = train_tech_bonus
				bonus = 1
				uses = 1
				category = train_tech
			}
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 1
				uses = 1
				category = motorized_equipment
			}
			### enables decisions to boost supply in a state, giving a timed buff for supply in the state
		}
	}

	shared_focus = {
		id = TBK_AF_protect_train_networks
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_supplies_to_the_front
		prerequisite = { focus = TBK_AF_supplies_to_the_front }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_protect_train_networks"
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				set_technology = {
					armored_train = 1
					railway_gun = 1
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = TBK_AF_railway_gun_1
					location = 18510
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = TBK_AF_railway_gun_2
					location = 18510
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = TBK_AF_railway_gun_3
					location = 18510
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = TBK_AF_railway_gun_4
					location = 18510
				}
			}
			else = {
				### enables decisions to "build" moving-artillery outposts, giving states the WAR_armored_battery -modifier
			}
		}
	}

	shared_focus = {
		id = TBK_AF_fires_of_industries
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_supplies_to_the_front
		prerequisite = { focus = TBK_AF_supplies_to_the_front }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_fires_of_industries"
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 2
				category = cat_production
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 2
				category = construction_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_hammer_and_lathe_of_surael
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_everycreature_at_work
		prerequisite = { focus = TBK_AF_everycreature_at_work }
		prerequisite = { focus = TBK_AF_fires_of_industries }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_supplies_to_the_front"
			swap_ideas = {
				remove_idea = TBK_holy_war_economy_1
				add_idea = TBK_holy_war_economy_2
			}
		}
	}

	#### Economy tree

	shared_focus = {
		id = TBK_AF_modern_mercantile_knowledge
		icon = GFX_goal_unknown
		cost = 2
		x = 28
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_modern_mercantile_knowledge"
		}
	}

	shared_focus = {
		id = TBK_AF_golden_highway
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_modern_mercantile_knowledge
		prerequisite = { focus = TBK_AF_modern_mercantile_knowledge }
		x = -2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_golden_highway"
			custom_effect_tooltip = unlock_golden_highway
		}
	}

	shared_focus = {
		id = TBK_AF_develop_Hazrumenia_Interior 
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_hazrumenia_interior }
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_Hazrumenia_Interior"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_Hazrumenia_Exterior
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_develop_Hazrumenia_Interior
		prerequisite = { focus = TBK_AF_develop_Hazrumenia_Interior }
		available = { has_country_flag = TBK_AF_completed_hazrumenia_exterior }
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_Hazrumenia_Exterior"	
		}
	}

	shared_focus = {
		id = TBK_AF_develop_maregypt
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_maregypt }
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_maregypt"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_colthage_and_quoggatai
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_colthage_and_quoggatai }
		x = -2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_colthage_and_quoggatai"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_hindia
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_hindia }
		x = -4
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_hindia"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_great_lake_and_riesia
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = {
		   has_country_flag = TBK_AF_completed_riseian
		   has_country_flag = TBK_AF_completed_great_lake
	    }
		x = -1
		y = 3
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_great_lake_and_riesia"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_saddle_arabia_and_hestraya
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = {
		   has_country_flag = TBK_AF_completed_arabia
		   has_country_flag = TBK_AF_completed_hestraya
	    }
		x = -3
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_saddle_arabia_and_hestraya"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_desert
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_desert }
		x = 1
		y = 3
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_desert"
		}
	}

	shared_focus = {
		id = TBK_AF_develop_abyssinia_and_donkey
		icon = GFX_goal_unknown
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = {
		   has_country_flag = TBK_AF_completed_abyssinia
		   has_country_flag = TBK_AF_completed_donkeys
	    }
		x = 3
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_abyssinia_and_donkey"
		}
	}

	#### Military tree
	
	shared_focus = {
		id = TBK_AF_mil_intro
		icon = GFX_goal_unknown
		cost = 4
		x = 6
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_mil_intro"
			country_event = TBK_AF_event_military.1
		}
	}

	shared_focus = {
		id = TBK_AF_desert_expertise
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_mil_intro
		prerequisite = { focus = TBK_AF_mil_intro }
		x = -2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_expertise"
			hidden_effect = {
				set_technology = {
					popup = no
					desert_warfare = 1
				}
			}
			custom_effect_tooltip = TBK_desert_warfare_training_tp
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
				add_attack = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_gunpowder_wonder_weapons
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_mil_intro
		prerequisite = { focus = TBK_AF_mil_intro }
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_gunpowder_wonder_weapons"
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}
			multiply_variable = {
				var = TBK_guns_pile
				value = 25
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = TBK_guns_pile
			}
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
				add_attack = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_survival_expertise
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_mil_intro
		prerequisite = { focus = TBK_AF_mil_intro }
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_survival_expertise"
			add_ideas = TBK_AF_survival_expertise_idea
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
				add_attack = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_new_kind_of_cavalry
		icon = GFX_goal_unknown
		cost = 5
		relative_position_id = TBK_AF_gunpowder_wonder_weapons
		prerequisite = { focus = TBK_AF_gunpowder_wonder_weapons }
		prerequisite = { focus = TBK_AF_desert_expertise }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_new_kind_of_cavalry"
			if = {
				limit = {
					NOT = {
						has_tech = motorised_infantry
					}
				}
				set_technology = {
					motorised_infantry = 1
				}
			}
			if = {
				limit = { 
					NOT = { 
						has_template = "Desert Phoenixes"
					}
				}
				division_template = {
					name = "Desert Phoenixes"
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
					}
					support = {
						mot_recon = { x = 0 y = 0 }
					}
					priority = 2
				}
			}
			capital_scope = { 
				create_unit = {
					division = "name = \"Desert Phoenixes\" division_template = \"Desert Phoenixes\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
					owner = ROOT
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_jaddari_legions
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_gunpowder_wonder_weapons
		prerequisite = { focus = TBK_AF_gunpowder_wonder_weapons }
		prerequisite = { focus = TBK_AF_survival_expertise }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_jaddari_legions"
			add_ideas = TBK_AF_jaddari_legions_idea
		}
	}
	
	shared_focus = {
		id = TBK_AF_heat_expertise
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_new_kind_of_cavalry
		prerequisite = { focus = TBK_AF_new_kind_of_cavalry }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_heat_expertise"
			swap_ideas = {
				remove_idea = TBK_AF_survival_expertise_idea
				add_idea = TBK_AF_survival_expertise_idea_2
			}
			TBK_AF_jaddar_jexiszuir = {
				add_trait = {
					trait = desert_fox
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_holy_fire
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_new_kind_of_cavalry
		prerequisite = { 
			focus = TBK_AF_new_kind_of_cavalry
			focus = TBK_AF_jaddari_legions
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_fire"
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1.0
				uses = 2
				category = artillery
			}
			multiply_variable = {
				var = TBK_guns_pile
				value = 5
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = TBK_guns_pile
			}
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_defend_the_faith
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_new_kind_of_cavalry
		prerequisite = { 
			focus = TBK_AF_jaddari_legions
		}
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_defend_the_faith"
			add_manpower = 150000
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_enhance_doctrines
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_heat_expertise
		prerequisite = { 
			focus = TBK_AF_heat_expertise
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_enhance_doctrines"
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			TBK_AF_jaddar_jexiszuir = {
				add_defense = 1
				add_attack = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_enhance_army
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_heat_expertise
		prerequisite = { 
			focus = TBK_AF_heat_expertise
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_enhance_army"
			add_ideas = TBK_AF_enhance_army
			army_experience = 50
			air_experience = 50
		}
	}

	shared_focus = {
		id = TBK_AF_zealous_wings
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_heat_expertise
		prerequisite = { 
			focus = TBK_AF_holy_fire
			focus = TBK_AF_defend_the_faith
		}
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_zealous_wings"
			if = {
    	        limit = {
    	            has_dlc = "By Blood Alone"
    	        }
				add_tech_bonus = {
					name = light_air
					bonus = 1.0
					uses = 2
					ahead_reduction = 2
					category = light_air
				}
				add_breakthrough_progress = {
					specialization = specialization_air
					value = 0.5
				}
			}
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1.0
					uses = 2
					ahead_reduction = 2
					category = light_fighter
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_enhance_elites
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_heat_expertise
		prerequisite = { 
			focus = TBK_AF_holy_fire
		}
		prerequisite = {
			focus = TBK_AF_defend_the_faith
		}
		x = 5
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_enhance_elites"
			add_ideas = TBK_AF_elite_army
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1.0
				uses = 1
				category = special_forces_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_supply_expertise
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_enhance_doctrines
		prerequisite = { 
			focus = TBK_AF_enhance_doctrines
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_enhance_army"
			swap_ideas = {
				remove_idea = TBK_AF_survival_expertise_idea_2
				add_idea = TBK_AF_survival_expertise_idea_3
			}
			TBK_AF_jaddar_jexiszuir = {
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_use_our_strength
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_enhance_doctrines
		prerequisite = { 
			focus = TBK_AF_enhance_doctrines
			focus = TBK_AF_enhance_army
			focus = TBK_AF_zealous_wings
			focus = TBK_AF_enhance_elites
		}
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_use_our_strength"
			add_tech_bonus = {
				name = race_tech_bonus
				bonus = 1
				uses = 3
				category = race_tech
				category = magical_tech
			}
			swap_ideas = {
				remove_idea = TBK_AF_jaddari_legions_idea
				add_idea = TBK_AF_jaddari_legions_idea_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_more_guns_in_the_name_of_guns
		icon = GFX_goal_unknown
		cost = 4
		relative_position_id = TBK_AF_enhance_doctrines
		prerequisite = { 
			focus = TBK_AF_enhance_elites
		}
		x = 5
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_more_guns_in_the_name_of_guns"
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1.0
				uses = 2
				category = artillery
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}
			multiply_variable = {
				var = TBK_guns_pile
				value = 10
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = TBK_guns_pile
			}
		}
	}
